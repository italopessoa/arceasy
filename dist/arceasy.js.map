{"version":3,"sources":["webpack:///arceasy.js","webpack:///webpack/bootstrap 022ee4001c8a15236500","webpack:///./map.js","webpack:///./logger.js","webpack:///./view.js","webpack:///./layers.js","webpack:///./config.js","webpack:///./index.js","webpack:///../~/esri-loader/src/esri-loader.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_interopRequireWildcard","obj","newObj","key","default","start","global","constructors","undefined","_esriLoader","esriLoader","_logger","logger","_view","layer","FeatureLayer","TileLayer","map","container","view","utils","watchUtils","Search","jsonUtils","Extent","renderer","UniqueValueRenderer","ClassBreaksRenderer","ExtrudeSymbol3DLayer","PolygonSymbol3D","SimpleRenderer","SimpleMarkerSymbol","PictureMarkerSymbol","SimpleLineSymbol","SimpleFillSymbol","options","isLoaded","log","dojoLoader","bootstrap","err","error","url","dojoRequire","esriConfig","Map","Geometry","Camera","SceneView","GraphicsLayer","Collection","Graphic","Point","PointSymbol3D","ObjectSymbol3DLayer","on","request","corsEnabledServers","push","proxyUrl","createMap","createView","basemap","ground","layers","warn","_config","logCounter","errorCounter","warnCounter","message","_object","console","prefix","changeBasemap","newPosition","_map","View","config","search","element","scale","center","longitude","latitude","viewingMode","starsEnabled","stars","atmosphereEnabled","atmosphere","then","controlUI","watcherRunning","whenTrue","extent","allLayers","elm","indx","arr","minScale","maxScale","raw","visible","esri","type","urlQuery","xmin","xmax","ymin","ymax","title","definitionExpression","environment","quality","searchWidget","ui","add","position","index","remove","_ref","coordinates","camera","goTo","tilt","heading","removePoints","hideAll","opacity","visibility","addGraphicLayer","addNewLayer","createLayer","LayerConstructor","id","_layer","fromJSON","_symbol","_point","graphicsLayer","objectSymbol","symbolLayers","width","height","resource","primitive","material","color","point","x","y","z","pointGraphic","geometry","symbol","status","_opacity","_layers","__webpack_exports__","getScript","document","querySelector","window","callback","Error","script","createElement","src","dataset","onload","body","appendChild","script_1","onScriptLoad_1","removeEventListener","addEventListener"],"mappings":"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","file":"arceasy.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 5);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.start = exports.global = exports.constructors = undefined;\n\nvar _esriLoader = __webpack_require__(6);\n\nvar esriLoader = _interopRequireWildcard(_esriLoader);\n\nvar _logger = __webpack_require__(1);\n\nvar logger = _interopRequireWildcard(_logger);\n\nvar _view = __webpack_require__(2);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar constructors = {\n    layer: {\n        FeatureLayer: '',\n        TileLayer: ''\n    },\n    map: '',\n    container: '',\n    view: '',\n    utils: {\n        watchUtils: '',\n        Search: '',\n        jsonUtils: '',\n        Extent: ''\n    },\n    renderer: {\n        UniqueValueRenderer: '',\n        ClassBreaksRenderer: '',\n        ExtrudeSymbol3DLayer: '',\n        PolygonSymbol3D: '',\n        SimpleRenderer: '',\n        SimpleMarkerSymbol: '',\n        PictureMarkerSymbol: '',\n        SimpleLineSymbol: '',\n        SimpleFillSymbol: ''\n    }\n},\n    global = {\n    map: '',\n    view: ''\n},\n    start = function start(options) {\n    // has the ArcGIS API been added to the page?\n    if (!esriLoader.isLoaded()) {\n        // no, lazy load it the ArcGIS API before using its classes\n        esriLoader.bootstrap(function (err) {\n            if (err) {\n                logger.error(err);\n            }\n            // once it's loaded, create the map\n            logger.log('Waiting ESRI servers...');\n            dojoLoader(options);\n        }, {\n            // use a specific version instead of latest 4.x\n            // url: 'https://js.arcgis.com/4.3/'\n            url: 'http://localhost/arcgis_js_api/library/4.3/4.3/init.js'\n        });\n    } else {\n        // ArcGIS API is already loaded, just create the map\n        logger.log('Waiting ESRI servers...');\n        dojoLoader(options);\n    }\n},\n    dojoLoader = function dojoLoader(options) {\n    esriLoader.dojoRequire(['esri/config', 'esri/Map', 'esri/geometry/Geometry', 'esri/Camera', 'esri/geometry/Extent', 'esri/views/SceneView', 'esri/layers/FeatureLayer', 'esri/layers/TileLayer', 'esri/layers/GraphicsLayer', 'esri/core/watchUtils', 'esri/core/Collection', 'esri/renderers/UniqueValueRenderer', 'esri/renderers/ClassBreaksRenderer', 'esri/renderers/SimpleRenderer', 'esri/symbols/ExtrudeSymbol3DLayer', 'esri/symbols/PolygonSymbol3D', 'esri/symbols/SimpleMarkerSymbol', 'esri/symbols/PictureMarkerSymbol', 'esri/symbols/SimpleLineSymbol', 'esri/symbols/SimpleFillSymbol', 'esri/Graphic', 'esri/geometry/Point', 'esri/symbols/PointSymbol3D', 'esri/symbols/ObjectSymbol3DLayer', 'esri/widgets/Search', 'esri/renderers/support/jsonUtils', 'dojo/on', 'dojo/domReady!'], function (esriConfig, Map, Geometry, Camera, Extent, SceneView, FeatureLayer, TileLayer, GraphicsLayer, watchUtils, Collection, UniqueValueRenderer, ClassBreaksRenderer, SimpleRenderer, ExtrudeSymbol3DLayer, PolygonSymbol3D, SimpleMarkerSymbol, PictureMarkerSymbol, SimpleLineSymbol, SimpleFillSymbol, Graphic, Point, PointSymbol3D, ObjectSymbol3DLayer, Search, jsonUtils, on) {\n        esriConfig.request.corsEnabledServers.push('http://localhost', 'http://45.33.83.153');\n        esriConfig.request.proxyUrl = 'http://localhost';\n\n        constructors.Map = Map;\n        constructors.SceneView = SceneView;\n\n        constructors.layer.FeatureLayer = FeatureLayer;\n        constructors.layer.TileLayer = TileLayer;\n        constructors.layer.GraphicsLayer = GraphicsLayer;\n\n        constructors.utils.watchUtils = watchUtils;\n        constructors.utils.Search = Search;\n        constructors.utils.jsonUtils = jsonUtils;\n        constructors.utils.Extent = Extent;\n        constructors.utils.Camera = Camera;\n\n        constructors.renderer.UniqueValueRenderer = UniqueValueRenderer;\n        constructors.renderer.ClassBreaksRenderer = ClassBreaksRenderer;\n        constructors.renderer.ExtrudeSymbol3DLayer = ExtrudeSymbol3DLayer;\n        constructors.renderer.PolygonSymbol3D = PolygonSymbol3D;\n        constructors.renderer.SimpleRenderer = SimpleRenderer;\n        constructors.renderer.SimpleMarkerSymbol = SimpleMarkerSymbol;\n        constructors.renderer.PictureMarkerSymbol = PictureMarkerSymbol;\n        constructors.renderer.SimpleLineSymbol = SimpleLineSymbol;\n        constructors.renderer.SimpleFillSymbol = SimpleFillSymbol;\n        constructors.renderer.Graphic = Graphic;\n        constructors.renderer.Point = Point;\n        constructors.renderer.PointSymbol3D = PointSymbol3D;\n        constructors.renderer.ObjectSymbol3DLayer = ObjectSymbol3DLayer;\n\n        if (constructors.Map && constructors.SceneView) {\n            logger.log('All constructorss created!');\n\n            global.map = createMap(constructors.Map);\n\n            global.view = (0, _view.createView)(global.map, constructors.SceneView, options);\n        } else {\n            logger.error('Error during creating constructorss... Try again.');\n        }\n    });\n},\n    createMap = function createMap(Map) {\n    logger.log('Creating map...');\n\n    var map = new Map({\n        basemap: 'dark-gray',\n        ground: 'world-elevation',\n        layers: []\n    });\n\n    return map;\n};\n\nexports.constructors = constructors;\nexports.global = global;\nexports.start = start;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.warn = exports.error = exports.log = undefined;\n\nvar _config = __webpack_require__(4);\n\nvar logCounter = 0,\n    errorCounter = 0,\n    warnCounter = 0;\n\nvar log = function log(message, _object) {\n    var object = _object !== undefined ? _object : '';\n\n    logCounter++;\n\n    return console.log(logCounter + ' ' + _config.prefix + ' ' + message, object);\n},\n    error = function error(message, _object) {\n    var object = _object !== undefined ? _object : '';\n\n    errorCounter++;\n\n    return console.error(errorCounter + ' ' + _config.prefix + ' ' + message, object);\n},\n    warn = function warn(message, _object) {\n    var object = _object !== undefined ? _object : '';\n\n    warnCounter++;\n\n    return console.warn(warnCounter + ' ' + _config.prefix + ' ' + message, object);\n};\n\nexports.log = log;\nexports.error = error;\nexports.warn = warn;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.changeBasemap = exports.newPosition = exports.createView = undefined;\n\nvar _logger = __webpack_require__(1);\n\nvar logger = _interopRequireWildcard(_logger);\n\nvar _map = __webpack_require__(0);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar createView = function createView(map, View, config) {\n    logger.log('Creating View...');\n\n    var search = _map.constructors.utils.Search,\n        watchUtils = _map.constructors.utils.watchUtils,\n        view = new View({\n        container: config.element,\n        map: map,\n        scale: config.scale,\n        center: [config.longitude, config.latitude],\n        viewingMode: 'global',\n        starsEnabled: config.stars,\n        atmosphereEnabled: config.atmosphere\n    });\n\n    view.then(function () {\n        logger.log('View ready!');\n\n        controlUI(view, search);\n        watcherRunning(map, view, watchUtils);\n    });\n\n    return view;\n},\n    watcherRunning = function watcherRunning(map, view, watchUtils) {\n    watchUtils.whenTrue(view, 'stationary', function () {\n        if (view.extent) {\n            logger.log('View changed! Mapping all layers...');\n\n            console.log(view.extent.center.latitude, view.extent.center.longitude, view.scale);\n\n            map.allLayers.map(function (elm, indx, arr) {\n                if ((view.scale < elm.minScale && view.scale > elm.maxScale || elm.minScale === 0 && elm.maxScale === 0) && elm.raw !== undefined && elm.visible) {\n                    if (elm.raw.esri.type === 0) {\n                        var urlQuery = '!xmin=' + view.extent.xmin + '!xmax=' + view.extent.xmax + '!ymin=' + view.extent.ymin + '!ymax=' + view.extent.ymax;\n\n                        logger.log('Getting extent to request ' + elm.title);\n                        logger.log('Requesting to server: ' + elm.raw.esri.url + '/where=' + urlQuery);\n\n                        elm.definitionExpression = urlQuery;\n                    }\n\n                    logger.log('Drawing layer: ' + elm.title);\n                }\n            });\n        }\n    });\n},\n    controlUI = function controlUI(view, Search) {\n    logger.log('Changing UI elements...');\n    view.environment.atmosphere.quality = 'low';\n\n    var searchWidget = new Search({\n        view: view\n    });\n\n    view.ui.add(searchWidget, {\n        position: 'top-left',\n        index: 2\n    });\n\n    view.ui.remove(['zoom', 'compass', 'navigation-toggle']);\n},\n    newPosition = function newPosition(_ref) {\n    var coordinates = _ref.coordinates,\n        scale = _ref.scale,\n        camera = _ref.camera;\n\n    var view = _map.global.view;\n\n    view.goTo({\n        center: [coordinates.longitude, coordinates.latitude],\n        scale: scale,\n        tilt: camera.tilt,\n        heading: camera.heading\n    });\n\n    logger.log('Changing map position...');\n},\n    changeBasemap = function changeBasemap(basemap) {\n    var map = _map.global.map;\n\n    map.basemap = basemap;\n\n    logger.log('Change basemap...');\n};\n\nexports.createView = createView;\nexports.newPosition = newPosition;\nexports.changeBasemap = changeBasemap;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.removePoints = exports.hideAll = exports.opacity = exports.visibility = exports.addGraphicLayer = exports.addNewLayer = exports.createLayer = undefined;\n\nvar _logger = __webpack_require__(1);\n\nvar logger = _interopRequireWildcard(_logger);\n\nvar _map = __webpack_require__(0);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar createLayer = function createLayer(layers) {\n    layers.map(function (elm, indx, arr) {\n        var LayerConstructor = void 0;\n\n        if (elm.esri.type === 0) {\n            logger.log('Creating new Feature Layer...');\n            LayerConstructor = _map.constructors.layer.FeatureLayer;\n        } else if (elm.esri.type === 1) {\n            logger.log('Creating new Tile Layer...');\n            LayerConstructor = _map.constructors.layer.TileLayer;\n        }\n\n        logger.log('Adding id by index on layer');\n        elm.id = indx;\n\n        addNewLayer(LayerConstructor, _map.constructors.utils.watchUtils, _map.constructors.utils.jsonUtils, elm);\n    });\n},\n    addNewLayer = function addNewLayer(LayerConstructor, watchUtils, jsonUtils, _layer) {\n    logger.log('Adding layer on map: ' + _layer.title + ' | Initial visibility: ' + _layer.esri.visible);\n    logger.log('Loading layer from: ' + _layer.esri.url);\n\n    var layer = new LayerConstructor({\n        id: _layer.id,\n        url: _layer.esri.url,\n        definitionExpression: _layer.esri.definitionExpression,\n        raw: _layer,\n        visible: _layer.esri.visible\n    });\n\n    if (layer.raw.esri.renderer) {\n        logger.log('Applying renderer...');\n\n        layer.renderer = jsonUtils.fromJSON(layer.raw.esri.renderer);\n    }\n\n    // if (layer.raw.esri.popupTemplate) {\n    //     layer.popupTemplate = applyingPopups(layer.raw)\n    // }\n\n    layer.then(function () {\n        logger.log('Layer ' + layer.title + ' ready!');\n        logger.log('View waiting changes...');\n\n        if (layer.raw.esri.type === 1) {\n            layer.minScale = layer.raw.esri.minScale !== null ? layer.raw.esri.minScale : 0;\n            layer.maxScale = layer.raw.esri.maxScale !== null ? layer.raw.esri.maxScale : 0;\n\n            logger.log('minScale: ' + layer.minScale + ' and maxScale: ' + layer.maxScale + ' defined manually');\n        }\n    });\n\n    _map.global.map.add(layer);\n},\n    addGraphicLayer = function addGraphicLayer(_symbol, _point) {\n    var map = _map.global.map,\n        GraphicsLayer = _map.constructors.layer.GraphicsLayer,\n        PointSymbol3D = _map.constructors.renderer.PointSymbol3D,\n        ObjectSymbol3DLayer = _map.constructors.renderer.ObjectSymbol3DLayer,\n        Point = _map.constructors.renderer.Point,\n        Graphic = _map.constructors.renderer.Graphic,\n        graphicsLayer = new GraphicsLayer({\n        id: 'Point'\n    }),\n        objectSymbol = new PointSymbol3D({\n        symbolLayers: [new ObjectSymbol3DLayer({\n            width: _symbol.width,\n            height: _symbol.height,\n            resource: {\n                primitive: _symbol.primitive\n            },\n            material: {\n                color: _symbol.color\n            }\n        })]\n    }),\n        point = new Point({\n        x: _point.x,\n        y: _point.y,\n        z: _point.z\n    }),\n        pointGraphic = new Graphic({\n        geometry: point,\n        symbol: objectSymbol\n    });\n\n    map.add(graphicsLayer);\n    graphicsLayer.add(pointGraphic);\n\n    logger.log('Adding new Graphic Symbol...');\n},\n    visibility = function visibility(_layer, status) {\n    var map = _map.global.map;\n\n    map.allLayers.map(function (elm, indx, arr) {\n        if (elm.raw !== undefined) {\n            if (elm.raw.title === _layer) {\n                elm.visible = status;\n                logger.log('Change visibility of layer: ' + _layer + ' to: ' + status);\n            }\n        }\n    });\n},\n    opacity = function opacity(_layer, _opacity) {\n    var map = _map.global.map;\n\n    map.allLayers.map(function (elm, indx, arr) {\n        if (elm.raw !== undefined) {\n            if (elm.raw.title === _layer) {\n                elm.opacity = _opacity / 100;\n                logger.log('Change opacity of layer: ' + _layer + ' to: ' + _opacity);\n            }\n        }\n    });\n},\n    hideAll = function hideAll() {\n    var map = _map.global.map;\n\n    map.allLayers.map(function (elm, indx, arr) {\n        if (elm.raw !== undefined) {\n            if (elm.visible === true) {\n                elm.visible = false;\n                logger.log('Change visibility of layer: ' + elm.raw.title + ' to: ' + false);\n            }\n        }\n    });\n},\n    removePoints = function removePoints() {\n    var map = _map.global.map;\n\n    map.allLayers.map(function (elm, indx, arr) {\n        if (elm.id === 'Point') {\n            if (elm.visible === true) {\n                elm.visible = false;\n                logger.log('Remove point...');\n            }\n        }\n    });\n};\n// applyingPopups = layer => {\n//     logger.log(`Making popups...`)\n//\n//     const popupModel = {\n//         title: layer.esri.popupTemplate.title,\n//         content: [\n//             {\n//                 type: 'fields',\n//                 fieldInfos: []\n//             }\n//         ]\n//     }\n//\n//     layer.esri.popupTemplate.fieldInfos.forEach((cur, indx, arr) => {\n//         popupModel.content[0].fieldInfos.push(cur)\n//     })\n//\n//     return popupModel\n// }\n\nexports.createLayer = createLayer;\nexports.addNewLayer = addNewLayer;\nexports.addGraphicLayer = addGraphicLayer;\nexports.visibility = visibility;\nexports.opacity = opacity;\nexports.hideAll = hideAll;\nexports.removePoints = removePoints;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar prefix = exports.prefix = '[ArcEasy]';\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.layers = exports.view = exports.map = undefined;\n\nvar _map = __webpack_require__(0);\n\nvar map = _interopRequireWildcard(_map);\n\nvar _view = __webpack_require__(2);\n\nvar view = _interopRequireWildcard(_view);\n\nvar _layers = __webpack_require__(3);\n\nvar layers = _interopRequireWildcard(_layers);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nexports.map = map;\nexports.view = view;\nexports.layers = layers;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (immutable) */ __webpack_exports__[\"isLoaded\"] = isLoaded;\n/* harmony export (immutable) */ __webpack_exports__[\"bootstrap\"] = bootstrap;\n/* harmony export (immutable) */ __webpack_exports__[\"dojoRequire\"] = dojoRequire;\n// get the script injected by this library\nfunction getScript() {\n    return document.querySelector('script[data-esri-loader]');\n}\n// has ArcGIS API been loaded on the page yet?\nfunction isLoaded() {\n    // would like to just use window.require, but fucking typescript\n    return typeof window['require'] !== 'undefined' && getScript();\n}\n// load the ArcGIS API on the page\nfunction bootstrap(callback, options) {\n    if (options === void 0) { options = {}; }\n    // default options\n    if (!options.url) {\n        options.url = 'https://js.arcgis.com/4.3/';\n    }\n    // don't reload API if it is already loaded or in the process of loading\n    if (getScript()) {\n        callback(new Error('The ArcGIS API for JavaScript is already loaded.'));\n        return;\n    }\n    // create a script object whose source points to the API\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = options.url;\n    script.dataset['esriLoader'] = 'loading';\n    // once the script is loaded...\n    script.onload = function () {\n        // update the status of the script\n        script.dataset['esriLoader'] = 'loaded';\n        // we can now use Dojo's require() to load esri and dojo AMD modules\n        var dojoRequire = window['require'];\n        if (callback) {\n            // let the caller know that the API has been successfully loaded\n            // and as a convenience, return the require function\n            // in case they want to use it directly\n            callback(null, dojoRequire);\n        }\n    };\n    // load the script\n    document.body.appendChild(script);\n}\nfunction dojoRequire(modules, callback) {\n    if (isLoaded()) {\n        window['require'](modules, callback);\n    }\n    else {\n        var script_1 = getScript();\n        if (script_1) {\n            // Not yet loaded but script is in the body - use callback once loaded\n            var onScriptLoad_1 = function () {\n                window['require'](modules, callback);\n                script_1.removeEventListener('load', onScriptLoad_1, false);\n            };\n            script_1.addEventListener('load', onScriptLoad_1);\n        }\n        else {\n            // Not bootstrapped\n            throw new Error('The ArcGIS API for JavaScript has not been loaded. You must first call esriLoader.bootstrap()');\n        }\n    }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    isLoaded: isLoaded,\n    bootstrap: bootstrap,\n    dojoRequire: dojoRequire\n});\n//# sourceMappingURL=esri-loader.js.map\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// arceasy.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 022ee4001c8a15236500","import * as esriLoader from 'esri-loader'\nimport * as logger from './logger'\nimport { createView } from './view'\n\nconst constructors = {\n        layer: {\n            FeatureLayer: '',\n            TileLayer: ''\n        },\n        map: '',\n        container: '',\n        view: '',\n        utils: {\n            watchUtils: '',\n            Search: '',\n            jsonUtils: '',\n            Extent: ''\n        },\n        renderer: {\n            UniqueValueRenderer: '',\n            ClassBreaksRenderer: '',\n            ExtrudeSymbol3DLayer: '',\n            PolygonSymbol3D: '',\n            SimpleRenderer: '',\n            SimpleMarkerSymbol: '',\n            PictureMarkerSymbol: '',\n            SimpleLineSymbol: '',\n            SimpleFillSymbol: ''\n        }\n    },\n    global = {\n        map: '',\n        view: ''\n    },\n    start = options => {\n        // has the ArcGIS API been added to the page?\n        if (!esriLoader.isLoaded()) {\n            // no, lazy load it the ArcGIS API before using its classes\n            esriLoader.bootstrap((err) => {\n                if (err) {\n                    logger.error(err)\n                }\n                // once it's loaded, create the map\n                logger.log('Waiting ESRI servers...')\n                dojoLoader(options)\n            }, {\n                // use a specific version instead of latest 4.x\n                // url: 'https://js.arcgis.com/4.3/'\n                url: 'http://localhost/arcgis_js_api/library/4.3/4.3/init.js'\n            })\n        } else {\n            // ArcGIS API is already loaded, just create the map\n            logger.log('Waiting ESRI servers...')\n            dojoLoader(options)\n        }\n    },\n    dojoLoader = options => {\n        esriLoader.dojoRequire([\n            'esri/config',\n            'esri/Map',\n            'esri/geometry/Geometry',\n            'esri/Camera',\n            'esri/geometry/Extent',\n            'esri/views/SceneView',\n            'esri/layers/FeatureLayer',\n            'esri/layers/TileLayer',\n            'esri/layers/GraphicsLayer',\n            'esri/core/watchUtils',\n            'esri/core/Collection',\n            'esri/renderers/UniqueValueRenderer',\n            'esri/renderers/ClassBreaksRenderer',\n            'esri/renderers/SimpleRenderer',\n            'esri/symbols/ExtrudeSymbol3DLayer',\n            'esri/symbols/PolygonSymbol3D',\n            'esri/symbols/SimpleMarkerSymbol',\n            'esri/symbols/PictureMarkerSymbol',\n            'esri/symbols/SimpleLineSymbol',\n            'esri/symbols/SimpleFillSymbol',\n            'esri/Graphic',\n            'esri/geometry/Point',\n            'esri/symbols/PointSymbol3D',\n            'esri/symbols/ObjectSymbol3DLayer',\n            'esri/widgets/Search',\n            'esri/renderers/support/jsonUtils',\n            'dojo/on',\n            'dojo/domReady!'\n        ], (\n            esriConfig,\n            Map,\n            Geometry,\n            Camera,\n            Extent,\n            SceneView,\n            FeatureLayer,\n            TileLayer,\n            GraphicsLayer,\n            watchUtils,\n            Collection,\n            UniqueValueRenderer,\n            ClassBreaksRenderer,\n            SimpleRenderer,\n            ExtrudeSymbol3DLayer,\n            PolygonSymbol3D,\n            SimpleMarkerSymbol,\n            PictureMarkerSymbol,\n            SimpleLineSymbol,\n            SimpleFillSymbol,\n            Graphic,\n            Point,\n            PointSymbol3D,\n            ObjectSymbol3DLayer,\n            Search,\n            jsonUtils,\n            on\n        ) => {\n            esriConfig.request.corsEnabledServers.push(\n                'http://localhost',\n                'http://45.33.83.153'\n            )\n            esriConfig.request.proxyUrl = 'http://localhost'\n\n            constructors.Map = Map\n            constructors.SceneView = SceneView\n\n            constructors.layer.FeatureLayer = FeatureLayer\n            constructors.layer.TileLayer = TileLayer\n            constructors.layer.GraphicsLayer = GraphicsLayer\n\n            constructors.utils.watchUtils = watchUtils\n            constructors.utils.Search = Search\n            constructors.utils.jsonUtils = jsonUtils\n            constructors.utils.Extent = Extent\n            constructors.utils.Camera = Camera\n\n            constructors.renderer.UniqueValueRenderer = UniqueValueRenderer\n            constructors.renderer.ClassBreaksRenderer = ClassBreaksRenderer\n            constructors.renderer.ExtrudeSymbol3DLayer = ExtrudeSymbol3DLayer\n            constructors.renderer.PolygonSymbol3D = PolygonSymbol3D\n            constructors.renderer.SimpleRenderer = SimpleRenderer\n            constructors.renderer.SimpleMarkerSymbol = SimpleMarkerSymbol\n            constructors.renderer.PictureMarkerSymbol = PictureMarkerSymbol\n            constructors.renderer.SimpleLineSymbol = SimpleLineSymbol\n            constructors.renderer.SimpleFillSymbol = SimpleFillSymbol\n            constructors.renderer.Graphic = Graphic\n            constructors.renderer.Point = Point\n            constructors.renderer.PointSymbol3D = PointSymbol3D\n            constructors.renderer.ObjectSymbol3DLayer = ObjectSymbol3DLayer\n\n            if (constructors.Map && constructors.SceneView) {\n                logger.log('All constructorss created!')\n\n                global.map = createMap(constructors.Map)\n\n                global.view = createView(\n                    global.map,\n                    constructors.SceneView,\n                    options\n                )\n            } else {\n                logger.error('Error during creating constructorss... Try again.')\n            }\n        })\n    },\n    createMap = Map => {\n        logger.log('Creating map...')\n\n        const map = new Map({\n            basemap: 'dark-gray',\n            ground: 'world-elevation',\n            layers: []\n        })\n\n        return map\n    }\n\nexport {\n    constructors,\n    global,\n    start\n}\n\n\n\n// WEBPACK FOOTER //\n// ./map.js","import { prefix } from './config'\n\nlet logCounter = 0,\n    errorCounter = 0,\n    warnCounter = 0\n\nconst log = (message, _object) => {\n        const object = _object !== undefined\n            ? _object\n            : ''\n\n        logCounter++\n\n        return console.log(`${logCounter} ${prefix} ${message}`, object)\n    },\n    error = (message, _object) => {\n        const object = _object !== undefined\n            ? _object\n            : ''\n\n        errorCounter++\n\n        return console.error(`${errorCounter} ${prefix} ${message}`, object)\n    },\n    warn = (message, _object) => {\n        const object = _object !== undefined\n            ? _object\n            : ''\n\n        warnCounter++\n\n        return console.warn(`${warnCounter} ${prefix} ${message}`, object)\n    }\n\nexport {\n    log,\n    error,\n    warn\n}\n\n\n\n// WEBPACK FOOTER //\n// ./logger.js","import * as logger from './logger'\nimport { constructors, global } from './map'\n\nconst createView = (map, View, config) => {\n        logger.log('Creating View...')\n\n        const search = constructors.utils.Search,\n            watchUtils = constructors.utils.watchUtils,\n            view = new View({\n                container: config.element,\n                map: map,\n                scale: config.scale,\n                center: [\n                    config.longitude,\n                    config.latitude\n                ],\n                viewingMode: 'global',\n                starsEnabled: config.stars,\n                atmosphereEnabled: config.atmosphere\n            })\n\n        view.then(() => {\n            logger.log('View ready!')\n\n            controlUI(view, search)\n            watcherRunning(map, view, watchUtils)\n        })\n\n        return view\n    },\n    watcherRunning = (map, view, watchUtils) => {\n        watchUtils.whenTrue(view, 'stationary', () => {\n            if (view.extent) {\n                logger.log(`View changed! Mapping all layers...`)\n\n                console.log(view.extent.center.latitude, view.extent.center.longitude, view.scale)\n\n                map.allLayers.map((elm, indx, arr) => {\n                    if (((view.scale < elm.minScale &&\n                            view.scale > elm.maxScale) ||\n                            (elm.minScale === 0 &&\n                            elm.maxScale === 0)) &&\n                            (elm.raw !== undefined &&\n                            elm.visible)) {\n                        if (elm.raw.esri.type === 0) {\n                            const urlQuery = `!xmin=${view.extent.xmin}!xmax=${view.extent.xmax}!ymin=${view.extent.ymin}!ymax=${view.extent.ymax}`\n\n                            logger.log(`Getting extent to request ${elm.title}`)\n                            logger.log(`Requesting to server: ${elm.raw.esri.url}/where=${urlQuery}`)\n\n                            elm.definitionExpression = urlQuery\n                        }\n\n                        logger.log(`Drawing layer: ${elm.title}`)\n                    }\n                })\n            }\n        })\n    },\n    controlUI = (view, Search) => {\n        logger.log('Changing UI elements...')\n        view.environment.atmosphere.quality = 'low'\n\n        const searchWidget = new Search({\n            view: view\n        })\n\n        view.ui.add(searchWidget, {\n            position: 'top-left',\n            index: 2\n        })\n\n        view.ui.remove([\n            'zoom',\n            'compass',\n            'navigation-toggle'\n        ])\n    },\n    newPosition = ({coordinates, scale, camera}) => {\n        const view = global.view\n\n        view.goTo({\n            center: [\n                coordinates.longitude,\n                coordinates.latitude\n            ],\n            scale: scale,\n            tilt: camera.tilt,\n            heading: camera.heading\n        })\n\n        logger.log(`Changing map position...`)\n    },\n    changeBasemap = basemap => {\n        const map = global.map\n\n        map.basemap = basemap\n\n        logger.log(`Change basemap...`)\n    }\n\nexport {\n    createView,\n    newPosition,\n    changeBasemap\n}\n\n\n\n// WEBPACK FOOTER //\n// ./view.js","import * as logger from './logger'\nimport { constructors, global } from './map'\n\nconst createLayer = layers => {\n        layers.map((elm, indx, arr) => {\n            let LayerConstructor\n\n            if (elm.esri.type === 0) {\n                logger.log(`Creating new Feature Layer...`)\n                LayerConstructor = constructors.layer.FeatureLayer\n            } else if (elm.esri.type === 1) {\n                logger.log(`Creating new Tile Layer...`)\n                LayerConstructor = constructors.layer.TileLayer\n            }\n\n            logger.log(`Adding id by index on layer`)\n            elm.id = indx\n\n            addNewLayer(\n                LayerConstructor,\n                constructors.utils.watchUtils,\n                constructors.utils.jsonUtils,\n                elm\n            )\n        })\n    },\n    addNewLayer = (LayerConstructor, watchUtils, jsonUtils, _layer) => {\n        logger.log(`Adding layer on map: ${_layer.title} | Initial visibility: ${_layer.esri.visible}`)\n        logger.log(`Loading layer from: ${_layer.esri.url}`)\n\n        const layer = new LayerConstructor({\n            id: _layer.id,\n            url: _layer.esri.url,\n            definitionExpression: _layer.esri.definitionExpression,\n            raw: _layer,\n            visible: _layer.esri.visible\n        })\n\n        if (layer.raw.esri.renderer) {\n            logger.log(`Applying renderer...`)\n\n            layer.renderer = jsonUtils.fromJSON(layer.raw.esri.renderer)\n        }\n\n        // if (layer.raw.esri.popupTemplate) {\n        //     layer.popupTemplate = applyingPopups(layer.raw)\n        // }\n\n        layer.then(() => {\n            logger.log(`Layer ${layer.title} ready!`)\n            logger.log(`View waiting changes...`)\n\n            if (layer.raw.esri.type === 1) {\n                layer.minScale = layer.raw.esri.minScale !== null\n                    ? layer.raw.esri.minScale\n                    : 0\n                layer.maxScale = layer.raw.esri.maxScale !== null\n                    ? layer.raw.esri.maxScale\n                    : 0\n\n                logger.log(`minScale: ${layer.minScale} and maxScale: ${layer.maxScale} defined manually`)\n            }\n        })\n\n        global.map.add(layer)\n    },\n    addGraphicLayer = (_symbol, _point) => {\n        const map = global.map,\n            GraphicsLayer = constructors.layer.GraphicsLayer,\n            PointSymbol3D = constructors.renderer.PointSymbol3D,\n            ObjectSymbol3DLayer = constructors.renderer.ObjectSymbol3DLayer,\n            Point = constructors.renderer.Point,\n            Graphic = constructors.renderer.Graphic,\n            graphicsLayer = new GraphicsLayer({\n                id: 'Point'\n            }),\n            objectSymbol = new PointSymbol3D({\n                symbolLayers: [\n                    new ObjectSymbol3DLayer({\n                        width: _symbol.width,\n                        height: _symbol.height,\n                        resource: {\n                            primitive: _symbol.primitive\n                        },\n                        material: {\n                            color: _symbol.color\n                        }\n                    })\n                ]\n            }),\n            point = new Point({\n                x: _point.x,\n                y: _point.y,\n                z: _point.z\n            }),\n            pointGraphic = new Graphic({\n                geometry: point,\n                symbol: objectSymbol\n            })\n\n        map.add(graphicsLayer)\n        graphicsLayer.add(pointGraphic)\n\n        logger.log(`Adding new Graphic Symbol...`)\n    },\n    visibility = (_layer, status) => {\n        const map = global.map\n\n        map.allLayers.map((elm, indx, arr) => {\n            if (elm.raw !== undefined) {\n                if (elm.raw.title === _layer) {\n                    elm.visible = status\n                    logger.log(`Change visibility of layer: ${_layer} to: ${status}`)\n                }\n            }\n        })\n    },\n    opacity = (_layer, _opacity) => {\n        const map = global.map\n\n        map.allLayers.map((elm, indx, arr) => {\n            if (elm.raw !== undefined) {\n                if (elm.raw.title === _layer) {\n                    elm.opacity = _opacity / 100\n                    logger.log(`Change opacity of layer: ${_layer} to: ${_opacity}`)\n                }\n            }\n        })\n    },\n    hideAll = () => {\n        const map = global.map\n\n        map.allLayers.map((elm, indx, arr) => {\n            if (elm.raw !== undefined) {\n                if (elm.visible === true) {\n                    elm.visible = false\n                    logger.log(`Change visibility of layer: ${elm.raw.title} to: ${false}`)\n                }\n            }\n        })\n    },\n    removePoints = () => {\n        const map = global.map\n\n        map.allLayers.map((elm, indx, arr) => {\n            if (elm.id === 'Point') {\n                if (elm.visible === true) {\n                    elm.visible = false\n                    logger.log(`Remove point...`)\n                }\n            }\n        })\n    }\n    // applyingPopups = layer => {\n    //     logger.log(`Making popups...`)\n    //\n    //     const popupModel = {\n    //         title: layer.esri.popupTemplate.title,\n    //         content: [\n    //             {\n    //                 type: 'fields',\n    //                 fieldInfos: []\n    //             }\n    //         ]\n    //     }\n    //\n    //     layer.esri.popupTemplate.fieldInfos.forEach((cur, indx, arr) => {\n    //         popupModel.content[0].fieldInfos.push(cur)\n    //     })\n    //\n    //     return popupModel\n    // }\n\nexport {\n    createLayer,\n    addNewLayer,\n    addGraphicLayer,\n    visibility,\n    opacity,\n    hideAll,\n    removePoints\n}\n\n\n\n// WEBPACK FOOTER //\n// ./layers.js","export const prefix = '[ArcEasy]'\n\n\n\n// WEBPACK FOOTER //\n// ./config.js","import * as map from './map'\nimport * as view from './view'\nimport * as layers from './layers'\n\nexport {\n    map,\n    view,\n    layers\n}\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","// get the script injected by this library\nfunction getScript() {\n    return document.querySelector('script[data-esri-loader]');\n}\n// has ArcGIS API been loaded on the page yet?\nexport function isLoaded() {\n    // would like to just use window.require, but fucking typescript\n    return typeof window['require'] !== 'undefined' && getScript();\n}\n// load the ArcGIS API on the page\nexport function bootstrap(callback, options) {\n    if (options === void 0) { options = {}; }\n    // default options\n    if (!options.url) {\n        options.url = 'https://js.arcgis.com/4.3/';\n    }\n    // don't reload API if it is already loaded or in the process of loading\n    if (getScript()) {\n        callback(new Error('The ArcGIS API for JavaScript is already loaded.'));\n        return;\n    }\n    // create a script object whose source points to the API\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = options.url;\n    script.dataset['esriLoader'] = 'loading';\n    // once the script is loaded...\n    script.onload = function () {\n        // update the status of the script\n        script.dataset['esriLoader'] = 'loaded';\n        // we can now use Dojo's require() to load esri and dojo AMD modules\n        var dojoRequire = window['require'];\n        if (callback) {\n            // let the caller know that the API has been successfully loaded\n            // and as a convenience, return the require function\n            // in case they want to use it directly\n            callback(null, dojoRequire);\n        }\n    };\n    // load the script\n    document.body.appendChild(script);\n}\nexport function dojoRequire(modules, callback) {\n    if (isLoaded()) {\n        window['require'](modules, callback);\n    }\n    else {\n        var script_1 = getScript();\n        if (script_1) {\n            // Not yet loaded but script is in the body - use callback once loaded\n            var onScriptLoad_1 = function () {\n                window['require'](modules, callback);\n                script_1.removeEventListener('load', onScriptLoad_1, false);\n            };\n            script_1.addEventListener('load', onScriptLoad_1);\n        }\n        else {\n            // Not bootstrapped\n            throw new Error('The ArcGIS API for JavaScript has not been loaded. You must first call esriLoader.bootstrap()');\n        }\n    }\n}\nexport default {\n    isLoaded: isLoaded,\n    bootstrap: bootstrap,\n    dojoRequire: dojoRequire\n};\n//# sourceMappingURL=esri-loader.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/esri-loader/src/esri-loader.js\n// module id = 6\n// module chunks = 0"],"sourceRoot":""}