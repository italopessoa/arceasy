{"version":3,"sources":["webpack:///arceasy.min.js","webpack:///webpack/bootstrap 16b4e3734b9167cd60b0","webpack:///./config.js","webpack:///./logger.js","webpack:///./view.js","webpack:///./layers.js","webpack:///./map.js","webpack:///./utils.js","webpack:///./index.js","webpack:///../~/esri-loader/src/esri-loader.js"],"names":["module","exports","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","prefix","global","map","view","options","cdn","element","scale","center","longitude","latitude","basemap","stars","atmosphere","enable","quality","watcher","light","cameraTracking","search","position","index","cors","proxy","loaded","constructors","layer","container","utils","renderer","dojo","templates","renderers","symbols","warn","fatal","error","log","undefined","_config","logCounter","errorCounter","fatalCounter","warnCounter","message","_object","console","Error","changeBasemap","newPosition","createView","_logger","logger","_interopRequireWildcard","obj","newObj","key","default","View","viewingMode","starsEnabled","atmosphereEnabled","then","controlUI","watcherRunning","watchUtils","whenTrue","extent","refreshExtent","urlQuery","xmin","xmax","ymin","ymax","allLayers","raw","progressive","minScale","maxScale","type","definitionExpression","outOfRange","visible","title","url","environment","Search","searchWidget","ui","add","remove","_ref","date","lighting","cameraTrackingEnabled","Date","now","_ref2","coordinates","camera","Extent","newExtent","spatialReference","wkid","goTo","target","tilt","heading","showAll","hideAll","setOpacity","setVisibility","all","find","layers","indx","validate","id","create","_layer","layerConstructors","utilsConstructors","jsonUtils","LayerType","layerLabel","FeatureLayer","TileLayer","fromJSON","parseInt","_items","filter","visibility","_opacity","opacity","changeVisibility","toggle","start","_esriLoader","esriLoader","_view","_options","length","Promise","resolve","reject","isLoaded","bootstrap","err","dojoLoader","dojoRequire","esriConfig","Map","Graphic","Camera","WebScene","esriRequest","Color","SceneView","externalRenderers","GraphicsLayer","PointCloudLayer","SceneLayer","Collection","declare","lang","UniqueValueRenderer","ClassBreaksRenderer","SimpleRenderer","PointCloudUniqueValueRenderer","PointCloudRGBRenderer","PointCloudStretchRenderer","PointCloudClassBreaksRenderer","colorRendererCreator","ExtrudeSymbol3DLayer","PolygonSymbol3D","SimpleMarkerSymbol","PictureMarkerSymbol","SimpleLineSymbol","SimpleFillSymbol","PointSymbol3D","ObjectSymbol3DLayer","MeshSymbol3D","FillSymbol3DLayer","LineSymbol3D","PathSymbol3DLayer","TextSymbol","Geometry","Point","SpatialReference","geometryEngine","webMercatorUtils","QueryTask","Query","ColorSlider","Legend","on","query","forEach","elm","request","corsEnabledServers","push","proxyUrl","createMap","ground","addGraphicSymbol","info","symbol","point","text","graphicsLayer","objectSymbol","symbolLayers","width","height","resource","primitive","material","color","_point","x","y","z","textSymbol","content","font","size","family","pointGraphic","geometry","_map","_layers","_utils","__webpack_exports__","getScript","document","querySelector","window","callback","script","createElement","src","dataset","onload","body","appendChild","script_1","onScriptLoad_1","removeEventListener","addEventListener"],"mappings":"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,SAAAC,KACjB,GAAIA,IAAK,CACL/F,OAAOhB,MAAM+G,KAGjB/F,OAAOf,IAAP,yBACA+G,YAAWL,QAASC,UAGpB5D,IAAK/E,UAEN,CAEH+C,OAAOf,IAAP,yBACA+G,YAAWL,QAASC,aAErB,CACH5F,OAAOjB,MAAP,yCACA6G,aAYZ,IAAMI,YAAa,QAAbA,YAAcL,QAASC,QACzB,GAAIzG,QAAAtC,OAAOuB,OAAQ,CACfkH,WAAWW,aACP,cACA,WACA,eACA,cACA,gBACA,eACA,aAEA,uBACA,kCAEA,2BACA,wBACA,4BACA,8BACA,yBAEA,uBACA,uBACA,oBACA,iBAEA,qCACA,qCACA,gCACA,mCACA,+CACA,uCACA,2CACA,+CACA,6CAEA,oCACA,+BACA,kCACA,mCACA,gCACA,gCACA,6BACA,mCACA,4BACA,iCACA,4BACA,iCACA,0BAEA,yBACA,sBACA,uBACA,iCACA,+BACA,yCAEA,uBACA,2BAEA,sBACA,2BACA,sBAEA,mBACA,UACA,aACA,kBACD,SACCC,WACAC,IACAC,QACAC,OACAC,SACAC,YACAC,MACAC,UACAC,kBACAjC,aACAC,UACAiC,cACAC,gBACAC,WACAhG,WACAiG,WACAC,QACAC,KACAC,oBACAC,oBACAC,eACA7C,UACA8C,8BACAC,sBACAC,0BACAC,8BACAC,qBACAC,qBACAC,gBACAC,mBACAC,oBACAC,iBACAC,iBACAC,cACAC,oBACAC,aACAC,kBACAC,aACAC,kBACAC,WACAC,SACAC,MACAvF,OACAwF,iBACAC,eACAC,iBACAC,UACAC,MACA1G,OACA2G,YACAC,OACAlF,IACAmF,GACAC,OAEA,GAAI7J,QAAAtC,OAAOG,QAAQkB,KAAM,CACrBiB,QAAAtC,OAAOG,QAAQkB,KAAK+K,QAAQ,SAAAC,KACxBhD,WAAWiD,QAAQC,mBAAmBC,KAAKH,OAInDhD,WAAWiD,QAAQG,SAAWnK,QAAAtC,OAAOG,QAAQmB,OAAS,EAEtDgB,SAAAd,aAAa8H,IAAMA,GACnBhH,SAAAd,aAAaoI,UAAYA,SACzBtH,SAAAd,aAAaiI,SAAWA,QACxBnH,SAAAd,aAAaqI,kBAAoBA,iBAEjCvH,SAAAd,aAAaC,MAAMmG,aAAeA,YAClCtF,SAAAd,aAAaC,MAAMoG,UAAYA,SAC/BvF,SAAAd,aAAaC,MAAMqI,cAAgBA,aACnCxH,SAAAd,aAAaC,MAAMsI,gBAAkBA,eACrCzH,SAAAd,aAAaC,MAAMuI,WAAaA,UAEhC1H,SAAAd,aAAaG,MAAMqC,WAAaA,UAChC1B,SAAAd,aAAaG,MAAM0D,OAASA,MAC5B/C,SAAAd,aAAaG,MAAMqK,YAAcA,WACjC1J,SAAAd,aAAaG,MAAMsK,OAASA,MAC5B3J,SAAAd,aAAaG,MAAM8F,UAAYA,SAC/BnF,SAAAd,aAAaG,MAAMwE,OAASA,MAC5B7D,SAAAd,aAAaG,MAAMgK,iBAAmBA,gBACtCrJ,SAAAd,aAAaG,MAAMiK,eAAiBA,cACpCtJ,SAAAd,aAAaG,MAAMkK,iBAAmBA,gBACtCvJ,SAAAd,aAAaG,MAAM6H,OAASA,MAC5BlH,SAAAd,aAAaG,MAAM4H,QAAUA,OAC7BjH,SAAAd,aAAaG,MAAM+H,YAAcA,WACjCpH,SAAAd,aAAaG,MAAMgI,MAAQA,KAC3BrH,SAAAd,aAAaG,MAAMuI,QAAUA,OAC7B5H,SAAAd,aAAaG,MAAMwI,KAAOA,IAC1B7H,SAAAd,aAAaG,MAAMmK,UAAYA,SAC/BxJ,SAAAd,aAAaG,MAAMoK,MAAQA,KAE3BzJ,SAAAd,aAAaI,SAASwI,oBAAsBA,mBAC5C9H,SAAAd,aAAaI,SAASyI,oBAAsBA,mBAC5C/H,SAAAd,aAAaI,SAASgJ,qBAAuBA,oBAC7CtI,SAAAd,aAAaI,SAASiJ,gBAAkBA,eACxCvI,SAAAd,aAAaI,SAAS0I,eAAiBA,cACvChI,SAAAd,aAAaI,SAASkJ,mBAAqBA,kBAC3CxI,SAAAd,aAAaI,SAASmJ,oBAAsBA,mBAC5CzI,SAAAd,aAAaI,SAASoJ,iBAAmBA,gBACzC1I,SAAAd,aAAaI,SAASqJ,iBAAmBA,gBACzC3I,SAAAd,aAAaI,SAAS8J,MAAQA,KAC9BpJ,SAAAd,aAAaI,SAASsJ,cAAgBA,aACtC5I,SAAAd,aAAaI,SAASuJ,oBAAsBA,mBAC5C7I,SAAAd,aAAaI,SAASwJ,aAAeA,YACrC9I,SAAAd,aAAaI,SAASyJ,kBAAoBA,iBAC1C/I,SAAAd,aAAaI,SAAS0J,aAAeA,YACrChJ,SAAAd,aAAaI,SAAS2J,kBAAoBA,iBAC1CjJ,SAAAd,aAAaI,SAAS4J,WAAaA,UACnClJ,SAAAd,aAAaI,SAAS2I,8BAAgCA,6BACtDjI,SAAAd,aAAaI,SAAS4I,sBAAwBA,qBAC9ClI,SAAAd,aAAaI,SAAS6I,0BAA4BA,yBAClDnI,SAAAd,aAAaI,SAAS8I,8BAAgCA,6BACtDpI,SAAAd,aAAaI,SAAS+I,qBAAuBA,oBAE7CrI,SAAAd,aAAaK,KAAKqK,GAAKA,EACvB5J,SAAAd,aAAaK,KAAKkF,IAAMA,GACxBzE,SAAAd,aAAaK,KAAKsK,MAAQA,KAE1B,IAAI7J,QAAAd,aAAa8H,KAAOhH,QAAAd,aAAaoI,UAAW,CAC5CzG,OAAOf,IAAP,6BAEAsK,WACIpK,QAAAd,aAAa8H,IACbhH,QAAAtC,OAAOG,QAAQO,SAElBmD,KAAK,SAAA5D,KACFqC,QAAAtC,OAAOC,IAAMA,GACb,OAAOqC,SAAAtC,OAAOC,MAEjB4D,KAAK,SAAA5D,MACF,EAAAyI,MAAAzF,YACIhD,IACAqC,QAAAd,aAAaoI,UACbtH,QAAAtC,OAAOG,SACT0D,KAAK,SAAA3D,MACHoC,QAAAtC,OAAOE,KAAOA,IACd4I,mBAGL,CACH3F,OAAOhB,MAAP,iEACA4G,iBAGL,CACH5F,OAAOjB,MAAP,8CACA6G,WAUR,IAAM2D,WAAY,QAAZA,WAAapD,IAAK5I,SACpByC,OAAOf,IAAP,kBAEA,IAAMnC,KAAM,GAAIqJ,MACZ5I,QAASA,QACTiM,OAAQ,mBAGZ,OAAO9D,SAAQC,QAAQ7I,ONihBrB,SAAUjC,OAAQC,QAASG,qBAEjC,YAGAY,QAAOC,eAAehB,QAAS,cAC3BU,MAAO,MAEXV,SAAQ2O,iBAAmBvK,SOj/B3B,IAAAa,SAAA9E,oBAAA,EPq/BA,IOr/BY+E,QPq/BCC,wBAAwBF,QOp/BrC,IAAAZ,SAAAlE,oBAAA,EPw/BA,SAASgF,yBAAwBC,KAAO,GAAIA,KAAOA,IAAI/D,WAAY,CAAE,MAAO+D,SAAY,CAAE,GAAIC,UAAa,IAAID,KAAO,KAAM,CAAE,IAAK,GAAIE,OAAOF,KAAK,CAAE,GAAIrE,OAAOW,UAAUC,eAAepB,KAAK6E,IAAKE,KAAMD,OAAOC,KAAOF,IAAIE,MAAUD,OAAOE,QAAUH,GAAK,OAAOC,SOn+B3P,GAAMsJ,2CAAmB,QAAnBA,kBAAmBlH,MAAiC,GAA/BmH,MAA+BnH,KAA/BmH,KAAMC,OAAyBpH,KAAzBoH,OAAQC,MAAiBrH,KAAjBqH,MAAOC,KAAUtH,KAAVsH,IACnD,IAAM/M,KAAMqC,QAAAtC,OAAOC,GACnB,IAAM6J,eAAgBxH,QAAAd,aAAaC,MAAMqI,aACzC,IAAMoB,eAAgB5I,QAAAd,aAAaI,SAASsJ,aAC5C,IAAMC,qBAAsB7I,QAAAd,aAAaI,SAASuJ,mBAClD,IAAMO,OAAQpJ,QAAAd,aAAaI,SAAS8J,KACpC,IAAMF,YAAalJ,QAAAd,aAAaI,SAAS4J,UACzC,IAAMjC,SAAUjH,QAAAd,aAAaG,MAAM4H,OAEnC,IAAM0D,eAAgB,GAAInD,gBACtBpF,KACI0C,GAAIyF,KAAKzF,KAAO,IACZyF,KAAKzF,KAAO/E,UACVwK,KAAKzF,GACL,gBAId,IAAM8F,cAAe,GAAIhC,gBACrBiC,cACI,GAAIhC,sBACAiC,MAAON,SAAWzK,UACZyK,OAAOM,MACP/K,UACNgL,OAAQP,SAAWzK,UACbyK,OAAOO,OACPhL,UACNiL,UACIC,UAAWT,SAAWzK,UAChByK,OAAOS,UACPlL,WAEVmL,UACIC,MAAOX,SAAWzK,UACZyK,OAAOW,MACPpL,eAMtB,IAAMqL,QAAS,GAAIhC,QACfiC,EAAGZ,MAAMY,EACTC,EAAGb,MAAMa,EACTC,EAAGd,MAAMc,GAGb,IAAMC,YAAa,GAAItC,aACnBiC,MAAOT,OAAS3K,UACV2K,KAAKS,MACLpL,UACN2K,KAAMA,OAAS3K,UACT2K,KAAKe,QACL1L,UACN2L,MACIC,KAAMjB,OAAS3K,UACT2K,KAAKiB,KACL5L,UACN6L,OAAQlB,OAAS3K,UACX2K,KAAKgB,KACL3L,YAId,IAAM8L,cAAe,GAAI5E,UACrB6E,SAAUV,OACVZ,OAAQI,cAAgBY,YAG5B7N,KAAIuF,IAAIyH,cACRA,eAAczH,IAAI2I,aAElBhL,QAAOf,IAAP,sCP6+BE,SAAUpE,OAAQC,QAASG,qBAEjC,YQ7kCA,IAAAiQ,MAAAjQ,oBAAA,ERklCA,IQllCY6B,KRklCFmD,wBAAwBiL,KQjlClC,IAAA3F,OAAAtK,oBAAA,ERqlCA,IQrlCY8B,MRqlCDkD,wBAAwBsF,MQplCnC,IAAA4F,SAAAlQ,oBAAA,ERwlCA,IQxlCY6I,QRwlCC7D,wBAAwBkL,QQvlCrC,IAAAC,QAAAnQ,oBAAA,ER2lCA,IQ3lCYuD,OR2lCAyB,wBAAwBmL,OQ1lCpC,IAAAjM,SAAAlE,oBAAA,ER8lCA,SAASgF,yBAAwBC,KAAO,GAAIA,KAAOA,IAAI/D,WAAY,CAAE,MAAO+D,SAAY,CAAE,GAAIC,UAAa,IAAID,KAAO,KAAM,CAAE,IAAK,GAAIE,OAAOF,KAAK,CAAE,GAAIrE,OAAOW,UAAUC,eAAepB,KAAK6E,IAAKE,KAAMD,OAAOC,KAAOF,IAAIE,MAAUD,OAAOE,QAAUH,GAAK,OAAOC,SQ5lClQtF,OAAOC,SACHgC,QACAC,UACA+G,cACAtF,YACA0B,KACIpD,UAAa,MAAOqC,SAAAtC,OAAOC,KAC3BC,WAAc,MAAOoC,SAAAtC,OAAOE,MAC5BsB,mBAAsB,MAAAc,SAAAd,iBR0mCxB,SAAUxD,OAAQwQ,oBAAqBpQ,qBAE7C,YACAY,QAAOC,eAAeuP,oBAAqB,cAAgB7P,MAAO,MACjC6P,qBAAoB,YAAcxF,QAClCwF,qBAAoB,aAAevF,SS7nCpEuF,qBAAA,eAAApF,WACA,SAAAqF,aACA,MAAAC,UAAAC,cAAA,4BAGA,QAAA3F,YAEA,aAAA4F,QAAA,0BAAAH,YAGA,QAAAxF,WAAA4F,SAAA1O,SACA,GAAAA,cAAA,IAA6BA,WAE7B,IAAAA,QAAAgF,IAAA,CACAhF,QAAAgF,IAAA,6BAGA,GAAAsJ,YAAA,CACAI,SAAA,GAAA/L,OAAA,oDACA,QAGA,GAAAgM,QAAAJ,SAAAK,cAAA,SACAD,QAAAhK,KAAA,iBACAgK,QAAAE,IAAA7O,QAAAgF,GACA2J,QAAAG,QAAA,uBAEAH,QAAAI,OAAA,WAEAJ,OAAAG,QAAA,sBAEA,IAAA7F,aAAAwF,OAAA,UACA,IAAAC,SAAA,CAIAA,SAAA,KAAAzF,cAIAsF,UAAAS,KAAAC,YAAAN,QAEA,QAAA1F,aAAAlL,QAAA2Q,UACA,GAAA7F,WAAA,CACA4F,OAAA,WAAA1Q,QAAA2Q,cAEA,CACA,GAAAQ,UAAAZ,WACA,IAAAY,SAAA,CAEA,GAAAC,gBAAA,WACAV,OAAA,WAAA1Q,QAAA2Q,SACAQ,UAAAE,oBAAA,OAAAD,eAAA,OAEAD,UAAAG,iBAAA,OAAAF,oBAEA,CAEA,SAAAxM,OAAA,mGAIA0L,oBAAA,YACAxF,kBACAC,oBACAG","file":"arceasy.min.js","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 6);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar prefix = exports.prefix = 'ArcEasy';\n\nvar global = exports.global = {\n    map: {},\n    view: {},\n    options: {\n        cdn: 'https://js.arcgis.com/4.3/',\n        element: '',\n        scale: 25000000,\n        center: {\n            longitude: -13.78,\n            latitude: -52.17\n        },\n        basemap: 'streets',\n        stars: true,\n        atmosphere: {\n            enable: true,\n            quality: 'low'\n        },\n        watcher: true,\n        light: {\n            cameraTracking: true\n        },\n        search: {\n            enable: false,\n            position: 'top-left',\n            index: 1\n        },\n        cors: [],\n        proxy: ''\n    },\n    loaded: false\n};\n\nvar constructors = exports.constructors = {\n    layer: {},\n    map: {},\n    container: {},\n    view: {},\n    utils: {},\n    renderer: {},\n    dojo: {}\n};\n\nvar templates = exports.templates = {\n    renderers: [],\n    symbols: []\n};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.warn = exports.fatal = exports.error = exports.log = undefined;\n\nvar _config = __webpack_require__(0);\n\nvar logCounter = 0;\nvar errorCounter = 0;\nvar fatalCounter = 0;\nvar warnCounter = 0;\n\n/**\n * Add conter and prefix and execute simple console.log()\n * @param  {String} message - Your log text\n * @param  {Object} _object - If you pass an object or array, it's will be put together\n * @return {Function}\n */\nvar log = exports.log = function log(message, _object) {\n    var object = _object !== undefined ? _object : '';\n\n    logCounter++;\n\n    return console.log(logCounter + ' [LOG|' + _config.prefix + '] ' + message, object);\n};\n\n/**\n * Add conter and prefix and execute console.error()\n * @param  {String} message - Your log text\n * @param  {Object} _object - If you pass an object or array, it's will be put together\n * @return {Function}\n */\nvar error = exports.error = function error(message, _object) {\n    var object = _object !== undefined ? _object : '';\n\n    errorCounter++;\n\n    return console.error(errorCounter + ' [ERROR|' + _config.prefix + '] ' + message, object);\n};\n\n/**\n * Add conter and prefix and create a throw new Error()\n * @param  {String} message - Your log text\n * @return {Function}\n */\nvar fatal = exports.fatal = function fatal(message) {\n    fatalCounter++;\n\n    throw new Error(fatalCounter + ' [FATAL|' + _config.prefix + '] ' + message);\n};\n\n/**\n * Add conter and prefix and execute console.warn()\n * @param  {String} message - Your log text\n * @param  {Object} _object - If you pass an object or array, it's will be put together\n * @return {Function}\n */\nvar warn = exports.warn = function warn(message, _object) {\n    var object = _object !== undefined ? _object : '';\n\n    warnCounter++;\n\n    return console.warn(warnCounter + ' [WARN|' + _config.prefix + '] ' + message, object);\n};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.changeBasemap = exports.newPosition = exports.light = exports.createView = undefined;\n\nvar _logger = __webpack_require__(1);\n\nvar logger = _interopRequireWildcard(_logger);\n\nvar _config = __webpack_require__(0);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * Create view inside map\n * @param  {Object} map - The map object in memory\n * @param  {Function} View - ESRI View constructor\n * @param  {Object} options - Group of informations about your\n *                            app and how map will be\n * @param  {String} options.cdn - ESRI CDN Server\n * @param  {String} options.element - DOM element that map will be created\n * @param  {Number} options.scale - Initial map scale\n * @param  {Number} options.center.longitude - Center map Longitude\n * @param  {Number} options.center.latitude - Center map Latitude\n * @param  {String} options.basemap - Initial basemap\n * @param  {Boolean} options.stars - If stars is enabled\n * @param  {Boolean} options.atmosphere.enable - If atmosphere is enabled\n * @param  {String} options.atmosphere.quality - Atmosphere quality\n * @param  {Boolean} options.watcher - If watcherRunning() is enabled\n * @param  {Boolean} options.light.cameraTracking - If you to display the\n *                                                lighting according to the\n *                                                current time of day\n * @param  {Boolean} options.search.enable - If search is enabled\n * @param  {String} options.search.position - Search position\n * @param  {Number} options.search.index - Search index\n * @param  {Array} options.cors - A group of URLs that you need enable CORS\n * @param  {String} options.proxy - Single URL that will proxy your requests\n * @return {Object} Global view object descriptor\n */\nvar createView = exports.createView = function createView(map, View, options) {\n    if (_config.global.loaded) {\n        logger.log('Creating View...');\n\n        var view = new View({\n            container: options.element,\n            map: map,\n            scale: options.scale,\n            center: [options.center.longitude, options.center.latitude],\n            viewingMode: 'global',\n            starsEnabled: options.stars,\n            atmosphereEnabled: options.atmosphere.enable,\n            loaded: true\n        });\n\n        view.then(function () {\n            logger.log('View ready!');\n\n            controlUI(view\n            // light({\n            //     cameraTracking: options.light.cameraTracking,\n            //     date: options.light.date\n            // })\n\n            );if (options.watcher) {\n                watcherRunning(view);\n            }\n        });\n\n        return view;\n    } else {\n        logger.fatal('Fatal error! You need set some map options.');\n    }\n};\n\n/**\n * Watcher that observe the globe moviment\n * and make requests with specific parameters\n * like extent on 'definitionExpression'\n * @param  {Object} view - Global view object descriptor\n */\nvar watcherRunning = function watcherRunning(view) {\n    var watchUtils = _config.constructors.utils.watchUtils;\n\n    logger.log('Watcher running! Waiting changes on view.');\n\n    watchUtils.whenTrue(view, 'stationary', function () {\n        logger.log('View changed! Getting extent to refreshing layers...');\n        console.log(view.extent.center.latitude, view.extent.center.longitude, view.scale);\n\n        refreshExtent(view);\n    });\n};\n\n/**\n * Function to get the actual extent and set the definition expression\n * on layer and make an request to refreh the layer info\n * @param  {Object} view - Global view object descriptor\n */\nvar refreshExtent = function refreshExtent(view) {\n    var map = _config.global.map;\n    var urlQuery = '!xmin=' + view.extent.xmin + '!xmax=' + view.extent.xmax + '!ymin=' + view.extent.ymin + '!ymax=' + view.extent.ymax;\n\n    map.allLayers.map(function (layer) {\n        if (layer.raw !== undefined) {\n            if (layer.raw.progressive) {\n                if (view.scale < layer.minScale && view.scale > layer.maxScale || layer.minScale === 0 && layer.maxScale === 0) {\n                    if (layer.raw.type === 0) {\n                        layer.definitionExpression = urlQuery;\n                    }\n                    layer.outOfRange = false;\n\n                    if (layer.visible) {\n                        logger.log('Drawing progressive layer: ' + layer.title + ' | URL requested: ' + layer.raw.url + '/where=' + urlQuery);\n                    }\n                } else {\n                    if (layer.visible) {\n                        logger.log(layer.title + ' it\\'s visible, but is out of range');\n                    }\n\n                    layer.outOfRange = true;\n                }\n            }\n        }\n    });\n};\n\n/**\n * Only setting some aspects from ESRI UI\n * @param  {Object} view - Global view object descriptor\n */\nvar controlUI = function controlUI(view) {\n    logger.log('Changing UI elements...');\n\n    view.environment.atmosphereEnabled = _config.global.options.atmosphere.enable;\n    view.environment.atmosphere.quality = _config.global.options.atmosphere.quality;\n\n    if (_config.global.options.search.enable) {\n        var Search = _config.constructors.utils.Search;\n        var searchWidget = new Search({\n            view: view\n        });\n\n        view.ui.add(searchWidget, {\n            position: _config.global.options.search.position,\n            index: _config.global.options.search.index\n        });\n    }\n\n    view.ui.remove(['zoom', 'compass', 'navigation-toggle']);\n};\n\n/**\n * Change camera tracking\n * @param  {Object} cameraTracking - Set the light on the world based on camera or not\n */\nvar light = exports.light = function light(_ref) {\n    var cameraTracking = _ref.cameraTracking,\n        date = _ref.date;\n\n    var view = _config.global.view;\n\n    if (cameraTracking !== '' && cameraTracking !== undefined) {\n        logger.log('Changing light camera tracking to: ' + cameraTracking);\n        view.environment.lighting.cameraTrackingEnabled = cameraTracking;\n    }\n\n    if (date === 'now') {\n        logger.log('Changing light date to: ' + date);\n        view.environment.lighting.date = Date.now();\n    }\n\n    if (date === '' || date === undefined) {\n        view.environment.lighting.date = new Date('Jul 15 2017 12:00:00');\n        logger.log('Changing light date to: default - Jul 15 2017 12:00:00');\n    }\n};\n\n/**\n * Navigate on map using long/lat and camera position\n * @param  {Object} coordinates - Object that contain destiny longitude and latitude\n * @param  {Number} scale - Scale on earth\n * @param  {Object} camera - Object that contain new angles to position camera\n */\nvar newPosition = exports.newPosition = function newPosition(_ref2) {\n    var extent = _ref2.extent,\n        coordinates = _ref2.coordinates,\n        scale = _ref2.scale,\n        camera = _ref2.camera;\n\n    if (extent !== undefined || coordinates !== undefined || scale !== undefined || camera !== undefined) {\n        var view = _config.global.view;\n        var Extent = _config.constructors.utils.Extent;\n        var newExtent = void 0;\n\n        if (extent) {\n            newExtent = new Extent({\n                xmax: extent.xmax || '',\n                xmin: extent.xmin || '',\n                ymax: extent.ymax || '',\n                ymin: extent.ymin || '',\n                spatialReference: {\n                    wkid: extent.spatialReference ? extent.spatialReference.wkid : ''\n                }\n            });\n        }\n\n        view.goTo({\n            target: extent && newExtent ? newExtent : '',\n            center: coordinates && coordinates.longitude && coordinates.latitude ? [coordinates.longitude, coordinates.latitude] : '',\n            scale: scale || '',\n            tilt: camera && camera.tilt ? camera.tilt : '',\n            heading: camera && camera.heading ? camera.heading : '',\n            position: camera && camera.position ? camera.position : ''\n        });\n\n        logger.log('Changing map position...');\n    } else {\n        logger.error('You need set a new position formed by a pair of coordinates, a new scale and new camera positions');\n    }\n};\n\n/**\n * Change basemap on global map object\n * @param  {String} basemap - A basemap name that match with basemap's list from ESRI\n *                          'streets', 'satellite', 'hybrid', 'topo', 'gray',\n *                          'dark-gray', 'oceans', 'national-geographic',\n *                          'terrain', 'osm', 'dark-gray-vector', 'gray-vector',\n *                          'streets-vector', 'topo-vector', 'streets-night-vector',\n *                          'streets-relief-vector', 'streets-navigation-vector'\n *                          or 'none'\n */\nvar changeBasemap = exports.changeBasemap = function changeBasemap(basemap) {\n    if (basemap) {\n        var map = _config.global.map;\n\n        map.basemap = basemap;\n\n        logger.log('Change basemap...');\n    } else {\n        logger.error('You need set a new basemap');\n    }\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.showAll = exports.hideAll = exports.setOpacity = exports.setVisibility = exports.all = exports.find = exports.remove = exports.add = undefined;\n\nvar _logger = __webpack_require__(1);\n\nvar logger = _interopRequireWildcard(_logger);\n\nvar _config = __webpack_require__(0);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * Recieve all layers, work and add on map\n * @constructor\n * @param  {Array} layers - List of layers\n * @return {Function} - New Layer on Map\n */\nvar add = exports.add = function add(layers) {\n    var map = _config.global.map;\n\n    layers.map(function (layer, indx) {\n        if (validate(layer)) {\n            if (layer.id === undefined || layer.id === '' || !layer.id) {\n                logger.log('Adding id by index on layer');\n                layer.id = indx;\n            }\n\n            layer.outOfRange = true;\n\n            return map.add(create(layer));\n        }\n    });\n};\n\n/**\n * Validate single layer\n * @param  {Object} layer - Layer with some options\n * @return {Boolean} True or false to validation\n */\nvar validate = function validate(layer) {\n    if (layer) {\n        !layer.title || logger.log('Validating layer: ' + layer.title);\n\n        if (layer.title === undefined || layer.title === '' || !layer.title) {\n            logger.fatal('You need provide a layer title');\n\n            return false;\n        }\n\n        if (layer.visible === undefined || layer.visible === '') {\n            layer.visible = true;\n            logger.warn('You not set intial visible. Usign default: true');\n        }\n\n        if (layer.definitionExpression === undefined || layer.definitionExpression === '') {\n            layer.definitionExpression = '';\n            logger.warn('You not set intial definitionExpression. Usign default: \\'\\'');\n        }\n\n        if (layer.type === undefined || layer.type === '' || layer.type === false) {\n            logger.fatal('You need provide a layer type (0 = FeatureLayer, 1 = TileLayer)');\n\n            return false;\n        }\n\n        if (layer.url === undefined || layer.url === '' || !layer.url) {\n            logger.fatal('You need provide an URL layer');\n\n            return false;\n        }\n\n        return true;\n    } else {\n        logger.fatal('You need pass some informations to describe your layer');\n        return false;\n    }\n};\n\n/**\n * Recieve a single layer object and return layer ready\n * @param {Object} _layer - Valid Layer object previously worked\n * @return {Object} Layer ready to add on map\n */\nvar create = function create(_layer) {\n    var layerConstructors = _config.constructors.layer;\n    var utilsConstructors = _config.constructors.utils;\n    var jsonUtils = utilsConstructors.jsonUtils;\n    var LayerType = void 0;\n    var layerLabel = void 0;\n\n    if (_layer.type === 0) {\n        layerLabel = 'Feature Layer';\n        LayerType = layerConstructors.FeatureLayer;\n    } else if (_layer.type === 1) {\n        layerLabel = 'Tile Layer';\n        LayerType = layerConstructors.TileLayer;\n    }\n\n    var layer = new LayerType({\n        id: _layer.id,\n        title: _layer.title,\n        url: _layer.url,\n        definitionExpression: _layer.definitionExpression,\n        raw: _layer,\n        visible: _layer.visible\n    });\n\n    logger.log('Adding a ' + layerLabel + ' on map: ' + layer.raw.title + ' | Visibility: ' + layer.raw.visible + ' | URL: ' + layer.raw.url);\n\n    if (layer.raw.renderer) {\n        logger.log('Applying renderer...');\n\n        layer.renderer = jsonUtils.fromJSON(layer.raw.renderer);\n    }\n\n    // if (layer.raw.popupTemplate) {\n    //     layer.popupTemplate = applyingPopups(layer.raw)\n    // }\n\n    layer.then(function () {\n        logger.log('Layer ' + layer.title + ' ready!');\n\n        if (layer.raw.type === 1) {\n            layer.minScale = layer.raw.minScale !== null && parseInt(layer.raw.minScale) !== 0 ? layer.raw.minScale : 0;\n            layer.maxScale = layer.raw.maxScale !== null && parseInt(layer.raw.maxScale) ? layer.raw.maxScale : 0;\n\n            // logger.log(`minScale: ${parseInt(layer.minScale)} and maxScale: ${parseInt(layer.maxScale)} defined manually`)\n        }\n    });\n\n    return layer;\n};\n\n/**\n * Remove layer from map\n * @param  {String|Number} _layer - Layer title or ID\n * @return {Function} - Remove Layer on Map\n */\nvar remove = exports.remove = function remove(_layer) {\n    var map = _config.global.map;\n    var layer = find(_layer);\n\n    if (layer) {\n        return map.remove(layer);\n    } else {\n        logger.error('Can\\'t find layer: ' + _layer + ' in map. You already added this layer?');\n    }\n};\n\n/**\n * Find specific layer in map\n * @param  {String|Number} _layer - Layer title or ID\n * @return {Object} Layer that will be manipulated\n */\nvar find = exports.find = function find(_layer) {\n    var map = _config.global.map;\n\n    return map.allLayers.find(function (layer) {\n        if (layer.raw !== undefined) {\n            if (layer.raw.title === _layer || layer.raw.id === _layer) {\n                return layer;\n            }\n        }\n    });\n};\n\n/**\n * get all layers included on map\n * @return {Array} list of all layers included by user\n */\nvar all = exports.all = function all() {\n    var map = _config.global.map;\n\n    return map.allLayers._items.filter(function (layer) {\n        if (layer.raw !== undefined) {\n            return true;\n        }\n    });\n};\n\n/**\n * Change layer visibility\n * @param  {String|Number} _layer - Layer title or ID\n * @param  {Boolean} visibility - Set if layer is visible or not\n */\nvar setVisibility = exports.setVisibility = function setVisibility(_layer, visibility) {\n    var layer = find(_layer);\n\n    if (layer) {\n        layer.visible = visibility;\n        logger.log('Change visibility of layer: ' + _layer + ' to: ' + visibility);\n    } else {\n        logger.error('Can\\'t find layer: ' + _layer + ' in map. You already added this layer?');\n    }\n};\n\n/**\n * Change layer opacity\n * @param  {String|Number} _layer - Layer title or ID\n * @param  {Number} _opacity - new opacity\n */\nvar setOpacity = exports.setOpacity = function setOpacity(_layer, _opacity) {\n    var layer = find(_layer);\n\n    if (layer) {\n        layer.opacity = _opacity / 100;\n        logger.log('Change opacity of layer: ' + _layer + ' to: ' + _opacity);\n    } else {\n        logger.error('Can\\'t find layer: ' + _layer + ' in map. You already added this layer?');\n    }\n};\n\n/**\n * Change visibility of all layers using parameter\n * @param  {String|Number} _layer - Layer title or ID\n * @param  {Boolean} visibility - Set if all layers will is visible or not\n */\nvar changeVisibility = function changeVisibility(_layer, visibility) {\n    var map = _config.global.map;\n\n    var toggle = function toggle(layer) {\n        if (layer.visible === !visibility) {\n            layer.visible = visibility;\n            logger.log('Change visibility of layer: ' + layer.raw.title + ' to: ' + visibility);\n        }\n    };\n\n    map.allLayers.map(function (layer) {\n        if (layer.raw !== undefined) {\n            if (_layer && layer.raw.title === _layer || layer.raw.id === _layer) {\n                toggle(layer);\n            } else {\n                toggle(layer);\n            }\n        }\n    });\n};\n\n/**\n * Set visibility of all layers to false\n * @param  {String|Number} _layer - Layer title or ID\n */\nvar hideAll = exports.hideAll = function hideAll(_layer) {\n    changeVisibility(_layer, false);\n};\n\n/**\n * Set visibility of all layers to true\n * @param  {String|Number} _layer - Layer title or ID\n */\nvar showAll = exports.showAll = function showAll(_layer) {\n    changeVisibility(_layer, true);\n};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.start = exports.options = undefined;\n\nvar _esriLoader = __webpack_require__(7);\n\nvar esriLoader = _interopRequireWildcard(_esriLoader);\n\nvar _logger = __webpack_require__(1);\n\nvar logger = _interopRequireWildcard(_logger);\n\nvar _view = __webpack_require__(2);\n\nvar _config = __webpack_require__(0);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * Simple function to set globaly options about the map\n * To start using ArcEasy you need invocate this function first\n * @param  {Object} options - Group of informations about your\n *                            app and how map will be\n * @param  {String} options.cdn - ESRI CDN Server\n * @param  {String} options.element - DOM element that map will be created\n * @param  {Number} options.scale - Initial map scale\n * @param  {Number} options.center.longitude - Center map Longitude\n * @param  {Number} options.center.latitude - Center map Latitude\n * @param  {String} options.basemap - Initial basemap\n * @param  {Boolean} options.stars - If stars is enabled\n * @param  {Boolean} options.atmosphere.enable - If atmosphere is enabled\n * @param  {String} options.atmosphere.quality - Atmosphere quality\n * @param  {Boolean} options.watcher - If watcherRunning() is enabled\n * @param  {Boolean} options.light.cameraTracking - If you to display the\n *                                                lighting according to the\n *                                                current time of day\n * @param  {Boolean} options.search.enable - If search is enabled\n * @param  {String} options.search.position - Search position\n * @param  {Number} options.search.index - Search index\n * @param  {Array} options.cors - A group of URLs that you need enable CORS\n * @param  {String} options.proxy - Single URL that will proxy your requests\n */\nvar options = exports.options = function options(_options) {\n    if (_options) {\n        _options.cdn || logger.warn('You not set any ESRI CDN. Usign default: ' + _config.global.options.cdn);\n\n        _options.element || logger.fatal('You need pass an valid DOM element');\n\n        _options.scale || logger.warn('You not set scale. Usign default scale: ' + _config.global.options.scale);\n\n        if (_options.center) {\n            _options.center.longitude || logger.warn('You not set intial longitude. Usign default: ' + _config.global.options.center.longitude);\n\n            _options.center.latitude || logger.warn('You not set intial latitude. Usign default: ' + _config.global.options.center.latitude);\n        } else {\n            logger.warn('You not set the map center. Usign defaults | longitude: ' + _config.global.options.center.longitude + ', latitude: ' + _config.global.options.center.latitude);\n        }\n\n        _options.basemap || logger.warn('You not set initial basemap. Usign default: ' + _config.global.options.basemap);\n\n        _options.stars === true || _options.stars === false || logger.warn('You not set if map usign stars. Usign default: ' + _config.global.options.stars);\n\n        if (_options.atmosphere) {\n            _options.atmosphere.enable === true || _options.atmosphere.enable === false || logger.warn('You not set if map usign atmosphere efect. Usign default: ' + _config.global.options.atmosphere.enable);\n\n            _options.atmosphere.quality || logger.warn('You not set atmosphere quality. Usign default: ' + _config.global.options.atmosphere.quality);\n        } else {\n            logger.warn('You not set the atmosphere options. Usign defaults | enable: ' + _config.global.options.atmosphere.enable + ', quality: ' + _config.global.options.atmosphere.quality);\n        }\n\n        _options.watcher === true || _options.watcher === false || logger.warn('You not set if map usign watcher to refresh the layers. Usign default: ' + _config.global.options.watcher);\n\n        if (_options.light) {\n            _options.light.cameraTracking === true || _options.light.cameraTracking === false || logger.warn('You not set the camera tracking options. Usign default: ' + _config.global.options.light.cameraTracking);\n\n            _options.light.date === '' || _options.light.date === undefined || logger.warn('You not set a date to view light position.');\n        } else {\n            logger.warn('You not set the light options. Usign default for camera tracking: ' + _config.global.options.light.cameraTracking);\n        }\n\n        if (_options.search) {\n            _options.search.enable === true || _options.search.enable === false || logger.warn('You not set Search. Usign default: ' + _config.global.options.search.enable);\n\n            _options.search.position || logger.warn('You not set Search position. Usign default: ' + _config.global.options.search.position);\n\n            _options.search.index || logger.warn('You not set Search index. Usign default: ' + _config.global.options.search.index);\n        } else {\n            logger.warn('You not set the search options. Usign defaults | enable: ' + _config.global.options.search.enable + ', position: ' + _config.global.options.search.position + ', index: ' + _config.global.options.search.index);\n        }\n\n        _options.cors && _options.cors.length > 0 || logger.warn('You not set any URL to enable CORS requests');\n\n        _options.proxy || logger.warn('You not set any URL to proxy your requests');\n\n        _config.global.options = {\n            cdn: _options.cdn !== '' && _options.cdn !== undefined ? _options.cdn : _config.global.options.cdn,\n            element: _options.element,\n            scale: _options.scale !== '' && _options.scale !== undefined ? _options.scale : _config.global.options.scale,\n            center: {\n                longitude: _options.center && _options.center.longitude !== '' && _options.center.longitude !== undefined ? _options.center.longitude : _config.global.options.center.longitude,\n                latitude: _options.center && _options.center.latitude !== '' && _options.center.latitude !== undefined ? _options.center.latitude : _config.global.options.center.latitude\n            },\n            basemap: _options.basemap !== '' && _options.basemap !== undefined ? _options.basemap : _config.global.options.basemap,\n            stars: _options.stars !== '' && _options.stars !== undefined ? _options.stars : _config.global.options.stars,\n            atmosphere: {\n                enable: _options.atmosphere && _options.atmosphere.enable !== '' && _options.atmosphere.enable !== undefined ? _options.atmosphere.enable : _config.global.options.atmosphere.enable,\n                quality: _options.atmosphere && _options.atmosphere.quality !== '' && _options.atmosphere.quality !== undefined ? _options.atmosphere.quality : _config.global.options.atmosphere.quality\n            },\n            watcher: _options.watcher !== '' && _options.watcher !== undefined ? _options.watcher : _config.global.options.watcher,\n            light: {\n                cameraTracking: _options.light && _options.light.cameraTracking !== '' && _options.light.cameraTracking !== undefined ? _options.light.cameraTracking : _config.global.options.light.cameraTracking,\n                date: _options.light && _options.light.date !== '' && _options.light.date !== undefined ? _options.light.date : _config.global.options.light.date\n            },\n            search: {\n                enable: _options.search && _options.search.enable !== '' && _options.search.enable !== undefined ? _options.search.enable : _config.global.options.search.enable,\n                position: _options.search && _options.search.position !== '' && _options.search.position !== undefined ? _options.search.position : _config.global.options.search.position,\n                index: _options.search && _options.search.index !== '' && _options.search.index !== undefined ? _options.search.index : _config.global.options.search.index\n            },\n            cors: _options.cors !== '' && _options.cors !== undefined ? _options.cors : '',\n            proxy: _options.proxy !== '' && _options.proxy !== undefined ? _options.proxy : ''\n        };\n\n        _config.global.loaded = true;\n        logger.log('Ready to start!');\n    } else {\n        logger.fatal('You need pass some informations to describe your map');\n    }\n};\n\n/**\n * The BigBang function\n * To create your map you need invocate this function\n */\nvar start = exports.start = function start() {\n    return new Promise(function (resolve, reject) {\n        var cdn = _config.global.options.cdn;\n\n        if (cdn !== undefined && _config.global.loaded) {\n            // Has the ArcGIS API been added to the page?\n            if (!esriLoader.isLoaded()) {\n                // No, lazy load it the ArcGIS API before using its classes\n                esriLoader.bootstrap(function (err) {\n                    if (err) {\n                        logger.error(err);\n                    }\n                    // Once it's loaded, create the map\n                    logger.log('Waiting ESRI server...');\n                    dojoLoader(resolve, reject);\n                }, {\n                    // Use a specific version instead of latest 4.x\n                    url: cdn\n                });\n            } else {\n                // ArcGIS API is already loaded, just create the map\n                logger.log('Waiting ESRI server...');\n                dojoLoader(resolve, reject);\n            }\n        } else {\n            logger.fatal('Fatal error! You must provider an CDN.');\n            reject();\n        }\n    });\n};\n\n/**\n * Require all packages from ESRI CDN,\n * create necessary constructors,\n * create map,\n * create view,\n * and put in page\n */\nvar dojoLoader = function dojoLoader(resolve, reject) {\n    if (_config.global.loaded) {\n        esriLoader.dojoRequire(['esri/config', 'esri/Map', 'esri/Graphic', 'esri/Camera', 'esri/WebScene', 'esri/request', 'esri/Color', 'esri/views/SceneView', 'esri/views/3d/externalRenderers', 'esri/layers/FeatureLayer', 'esri/layers/TileLayer', 'esri/layers/GraphicsLayer', 'esri/layers/PointCloudLayer', 'esri/layers/SceneLayer', 'esri/core/watchUtils', 'esri/core/Collection', 'esri/core/declare', 'esri/core/lang', 'esri/renderers/UniqueValueRenderer', 'esri/renderers/ClassBreaksRenderer', 'esri/renderers/SimpleRenderer', 'esri/renderers/support/jsonUtils', 'esri/renderers/PointCloudUniqueValueRenderer', 'esri/renderers/PointCloudRGBRenderer', 'esri/renderers/PointCloudStretchRenderer', 'esri/renderers/PointCloudClassBreaksRenderer', 'esri/renderers/smartMapping/creators/color', 'esri/symbols/ExtrudeSymbol3DLayer', 'esri/symbols/PolygonSymbol3D', 'esri/symbols/SimpleMarkerSymbol', 'esri/symbols/PictureMarkerSymbol', 'esri/symbols/SimpleLineSymbol', 'esri/symbols/SimpleFillSymbol', 'esri/symbols/PointSymbol3D', 'esri/symbols/ObjectSymbol3DLayer', 'esri/symbols/MeshSymbol3D', 'esri/symbols/FillSymbol3DLayer', 'esri/symbols/LineSymbol3D', 'esri/symbols/PathSymbol3DLayer', 'esri/symbols/TextSymbol', 'esri/geometry/Geometry', 'esri/geometry/Point', 'esri/geometry/Extent', 'esri/geometry/SpatialReference', 'esri/geometry/geometryEngine', 'esri/geometry/support/webMercatorUtils', 'esri/tasks/QueryTask', 'esri/tasks/support/Query', 'esri/widgets/Search', 'esri/widgets/ColorSlider', 'esri/widgets/Legend', 'dojo/promise/all', 'dojo/on', 'dojo/query', 'dojo/domReady!'], function (esriConfig, Map, Graphic, Camera, WebScene, esriRequest, Color, SceneView, externalRenderers, FeatureLayer, TileLayer, GraphicsLayer, PointCloudLayer, SceneLayer, watchUtils, Collection, declare, lang, UniqueValueRenderer, ClassBreaksRenderer, SimpleRenderer, jsonUtils, PointCloudUniqueValueRenderer, PointCloudRGBRenderer, PointCloudStretchRenderer, PointCloudClassBreaksRenderer, colorRendererCreator, ExtrudeSymbol3DLayer, PolygonSymbol3D, SimpleMarkerSymbol, PictureMarkerSymbol, SimpleLineSymbol, SimpleFillSymbol, PointSymbol3D, ObjectSymbol3DLayer, MeshSymbol3D, FillSymbol3DLayer, LineSymbol3D, PathSymbol3DLayer, TextSymbol, Geometry, Point, Extent, SpatialReference, geometryEngine, webMercatorUtils, QueryTask, Query, Search, ColorSlider, Legend, all, on, query) {\n            if (_config.global.options.cors) {\n                _config.global.options.cors.forEach(function (elm) {\n                    esriConfig.request.corsEnabledServers.push(elm);\n                });\n            }\n\n            esriConfig.request.proxyUrl = _config.global.options.proxy || '';\n\n            _config.constructors.Map = Map;\n            _config.constructors.SceneView = SceneView;\n            _config.constructors.WebScene = WebScene;\n            _config.constructors.externalRenderers = externalRenderers;\n\n            _config.constructors.layer.FeatureLayer = FeatureLayer;\n            _config.constructors.layer.TileLayer = TileLayer;\n            _config.constructors.layer.GraphicsLayer = GraphicsLayer;\n            _config.constructors.layer.PointCloudLayer = PointCloudLayer;\n            _config.constructors.layer.SceneLayer = SceneLayer;\n\n            _config.constructors.utils.watchUtils = watchUtils;\n            _config.constructors.utils.Search = Search;\n            _config.constructors.utils.ColorSlider = ColorSlider;\n            _config.constructors.utils.Legend = Legend;\n            _config.constructors.utils.jsonUtils = jsonUtils;\n            _config.constructors.utils.Extent = Extent;\n            _config.constructors.utils.SpatialReference = SpatialReference;\n            _config.constructors.utils.geometryEngine = geometryEngine;\n            _config.constructors.utils.webMercatorUtils = webMercatorUtils;\n            _config.constructors.utils.Camera = Camera;\n            _config.constructors.utils.Graphic = Graphic;\n            _config.constructors.utils.esriRequest = esriRequest;\n            _config.constructors.utils.Color = Color;\n            _config.constructors.utils.declare = declare;\n            _config.constructors.utils.lang = lang;\n            _config.constructors.utils.QueryTask = QueryTask;\n            _config.constructors.utils.Query = Query;\n\n            _config.constructors.renderer.UniqueValueRenderer = UniqueValueRenderer;\n            _config.constructors.renderer.ClassBreaksRenderer = ClassBreaksRenderer;\n            _config.constructors.renderer.ExtrudeSymbol3DLayer = ExtrudeSymbol3DLayer;\n            _config.constructors.renderer.PolygonSymbol3D = PolygonSymbol3D;\n            _config.constructors.renderer.SimpleRenderer = SimpleRenderer;\n            _config.constructors.renderer.SimpleMarkerSymbol = SimpleMarkerSymbol;\n            _config.constructors.renderer.PictureMarkerSymbol = PictureMarkerSymbol;\n            _config.constructors.renderer.SimpleLineSymbol = SimpleLineSymbol;\n            _config.constructors.renderer.SimpleFillSymbol = SimpleFillSymbol;\n            _config.constructors.renderer.Point = Point;\n            _config.constructors.renderer.PointSymbol3D = PointSymbol3D;\n            _config.constructors.renderer.ObjectSymbol3DLayer = ObjectSymbol3DLayer;\n            _config.constructors.renderer.MeshSymbol3D = MeshSymbol3D;\n            _config.constructors.renderer.FillSymbol3DLayer = FillSymbol3DLayer;\n            _config.constructors.renderer.LineSymbol3D = LineSymbol3D;\n            _config.constructors.renderer.PathSymbol3DLayer = PathSymbol3DLayer;\n            _config.constructors.renderer.TextSymbol = TextSymbol;\n            _config.constructors.renderer.PointCloudUniqueValueRenderer = PointCloudUniqueValueRenderer;\n            _config.constructors.renderer.PointCloudRGBRenderer = PointCloudRGBRenderer;\n            _config.constructors.renderer.PointCloudStretchRenderer = PointCloudStretchRenderer;\n            _config.constructors.renderer.PointCloudClassBreaksRenderer = PointCloudClassBreaksRenderer;\n            _config.constructors.renderer.colorRendererCreator = colorRendererCreator;\n\n            _config.constructors.dojo.on = on;\n            _config.constructors.dojo.all = all;\n            _config.constructors.dojo.query = query;\n\n            if (_config.constructors.Map && _config.constructors.SceneView) {\n                logger.log('All constructorss created!');\n\n                createMap(_config.constructors.Map, _config.global.options.basemap).then(function (map) {\n                    _config.global.map = map;\n                    return _config.global.map;\n                }).then(function (map) {\n                    (0, _view.createView)(map, _config.constructors.SceneView, _config.global.options).then(function (view) {\n                        _config.global.view = view;\n                        resolve();\n                    });\n                });\n            } else {\n                logger.error('Error during creating the necessary constructors... Try again.');\n                reject();\n            }\n        });\n    } else {\n        logger.fatal('Fatal error! You need set some map options.');\n        reject();\n    }\n};\n\n/**\n * Create map using ESRI Map constructor\n * @param  {Function} Map - ESRI Map constructor\n * @param  {String} basemap - The initial basemap\n * @return {Object} Global map object descriptor\n */\nvar createMap = function createMap(Map, basemap) {\n    logger.log('Creating map...');\n\n    var map = new Map({\n        basemap: basemap,\n        ground: 'world-elevation'\n    });\n\n    return Promise.resolve(map);\n};\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.addGraphicSymbol = undefined;\n\nvar _logger = __webpack_require__(1);\n\nvar logger = _interopRequireWildcard(_logger);\n\nvar _config = __webpack_require__(0);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * Helper to add a simple point or text symbol on map using layer\n * @param {Object} info - Some informations about your layer\n * @param {String} info.id - You can pass an ID to find this layer after\n * @param {Object} symbol - Some informations about your symbol\n * @param {Number} symbol.width - Width of the symbol\n * @param {Number} symbol.height - Height of the symbol\n * @param {String} symbol.primitive - Name of the symbol\n * @param {String} symbol.color - Color of the symbol\n * @param {Object} point - Some information about the position of the symbol\n * @param {Number} point.x - X axis position\n * @param {Number} point.y - Y axis position\n * @param {Number} point.z - Z axis position\n * @param {Object} text - Some information about the text content\n * @param {Number} text.color - Color of the text\n * @param {Number} text.content - The content\n * @param {Number} text.size - Size in pixels\n * @param {Number} text.font - Font family ex: FontAwesome\n */\nvar addGraphicSymbol = exports.addGraphicSymbol = function addGraphicSymbol(_ref) {\n    var info = _ref.info,\n        symbol = _ref.symbol,\n        point = _ref.point,\n        text = _ref.text;\n\n    var map = _config.global.map;\n    var GraphicsLayer = _config.constructors.layer.GraphicsLayer;\n    var PointSymbol3D = _config.constructors.renderer.PointSymbol3D;\n    var ObjectSymbol3DLayer = _config.constructors.renderer.ObjectSymbol3DLayer;\n    var Point = _config.constructors.renderer.Point;\n    var TextSymbol = _config.constructors.renderer.TextSymbol;\n    var Graphic = _config.constructors.utils.Graphic;\n\n    var graphicsLayer = new GraphicsLayer({\n        raw: {\n            id: info.id !== '' && info.id !== undefined ? info.id : '[ArcE]Graph'\n        }\n    });\n\n    var objectSymbol = new PointSymbol3D({\n        symbolLayers: [new ObjectSymbol3DLayer({\n            width: symbol !== undefined ? symbol.width : undefined,\n            height: symbol !== undefined ? symbol.height : undefined,\n            resource: {\n                primitive: symbol !== undefined ? symbol.primitive : undefined\n            },\n            material: {\n                color: symbol !== undefined ? symbol.color : undefined\n            }\n        })]\n    });\n\n    var _point = new Point({\n        x: point.x,\n        y: point.y,\n        z: point.z\n    });\n\n    var textSymbol = new TextSymbol({\n        color: text !== undefined ? text.color : undefined,\n        text: text !== undefined ? text.content : undefined,\n        font: {\n            size: text !== undefined ? text.size : undefined,\n            family: text !== undefined ? text.font : undefined\n        }\n    });\n\n    var pointGraphic = new Graphic({\n        geometry: _point,\n        symbol: objectSymbol || textSymbol\n    });\n\n    map.add(graphicsLayer);\n    graphicsLayer.add(pointGraphic);\n\n    logger.log('Adding a Graphic Layer on map...');\n};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _map = __webpack_require__(4);\n\nvar map = _interopRequireWildcard(_map);\n\nvar _view = __webpack_require__(2);\n\nvar view = _interopRequireWildcard(_view);\n\nvar _layers = __webpack_require__(3);\n\nvar layers = _interopRequireWildcard(_layers);\n\nvar _utils = __webpack_require__(5);\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _config = __webpack_require__(0);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nmodule.exports = {\n    map: map,\n    view: view,\n    layers: layers,\n    utils: utils,\n    obj: {\n        get map() {\n            return _config.global.map;\n        },\n        get view() {\n            return _config.global.view;\n        },\n        get constructors() {\n            return _config.constructors;\n        }\n    }\n};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (immutable) */ __webpack_exports__[\"isLoaded\"] = isLoaded;\n/* harmony export (immutable) */ __webpack_exports__[\"bootstrap\"] = bootstrap;\n/* harmony export (immutable) */ __webpack_exports__[\"dojoRequire\"] = dojoRequire;\n// get the script injected by this library\nfunction getScript() {\n    return document.querySelector('script[data-esri-loader]');\n}\n// has ArcGIS API been loaded on the page yet?\nfunction isLoaded() {\n    // would like to just use window.require, but fucking typescript\n    return typeof window['require'] !== 'undefined' && getScript();\n}\n// load the ArcGIS API on the page\nfunction bootstrap(callback, options) {\n    if (options === void 0) { options = {}; }\n    // default options\n    if (!options.url) {\n        options.url = 'https://js.arcgis.com/4.3/';\n    }\n    // don't reload API if it is already loaded or in the process of loading\n    if (getScript()) {\n        callback(new Error('The ArcGIS API for JavaScript is already loaded.'));\n        return;\n    }\n    // create a script object whose source points to the API\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = options.url;\n    script.dataset['esriLoader'] = 'loading';\n    // once the script is loaded...\n    script.onload = function () {\n        // update the status of the script\n        script.dataset['esriLoader'] = 'loaded';\n        // we can now use Dojo's require() to load esri and dojo AMD modules\n        var dojoRequire = window['require'];\n        if (callback) {\n            // let the caller know that the API has been successfully loaded\n            // and as a convenience, return the require function\n            // in case they want to use it directly\n            callback(null, dojoRequire);\n        }\n    };\n    // load the script\n    document.body.appendChild(script);\n}\nfunction dojoRequire(modules, callback) {\n    if (isLoaded()) {\n        window['require'](modules, callback);\n    }\n    else {\n        var script_1 = getScript();\n        if (script_1) {\n            // Not yet loaded but script is in the body - use callback once loaded\n            var onScriptLoad_1 = function () {\n                window['require'](modules, callback);\n                script_1.removeEventListener('load', onScriptLoad_1, false);\n            };\n            script_1.addEventListener('load', onScriptLoad_1);\n        }\n        else {\n            // Not bootstrapped\n            throw new Error('The ArcGIS API for JavaScript has not been loaded. You must first call esriLoader.bootstrap()');\n        }\n    }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    isLoaded: isLoaded,\n    bootstrap: bootstrap,\n    dojoRequire: dojoRequire\n});\n//# sourceMappingURL=esri-loader.js.map\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// arceasy.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 16b4e3734b9167cd60b0","export const prefix = 'ArcEasy'\n\nexport const global = {\n    map: {},\n    view: {},\n    options: {\n        cdn: 'https://js.arcgis.com/4.3/',\n        element: '',\n        scale: 25000000,\n        center: {\n            longitude: -13.78,\n            latitude: -52.17\n        },\n        basemap: 'streets',\n        stars: true,\n        atmosphere: {\n            enable: true,\n            quality: 'low'\n        },\n        watcher: true,\n        light: {\n            cameraTracking: true\n        },\n        search: {\n            enable: false,\n            position: 'top-left',\n            index: 1\n        },\n        cors: [],\n        proxy: ''\n    },\n    loaded: false\n}\n\nexport const constructors = {\n    layer: {},\n    map: {},\n    container: {},\n    view: {},\n    utils: {},\n    renderer: {},\n    dojo: {}\n}\n\nexport const templates = {\n    renderers: [],\n    symbols: []\n}\n\n\n\n// WEBPACK FOOTER //\n// ./config.js","import { prefix } from './config'\n\nlet logCounter = 0\nlet errorCounter = 0\nlet fatalCounter = 0\nlet warnCounter = 0\n\n/**\n * Add conter and prefix and execute simple console.log()\n * @param  {String} message - Your log text\n * @param  {Object} _object - If you pass an object or array, it's will be put together\n * @return {Function}\n */\nexport const log = (message, _object) => {\n    const object = _object !== undefined\n        ? _object\n        : ''\n\n    logCounter++\n\n    return console.log(`${logCounter} [LOG|${prefix}] ${message}`, object)\n}\n\n/**\n * Add conter and prefix and execute console.error()\n * @param  {String} message - Your log text\n * @param  {Object} _object - If you pass an object or array, it's will be put together\n * @return {Function}\n */\nexport const error = (message, _object) => {\n    const object = _object !== undefined\n        ? _object\n        : ''\n\n    errorCounter++\n\n    return console.error(`${errorCounter} [ERROR|${prefix}] ${message}`, object)\n}\n\n/**\n * Add conter and prefix and create a throw new Error()\n * @param  {String} message - Your log text\n * @return {Function}\n */\nexport const fatal = (message) => {\n    fatalCounter++\n\n    throw new Error(`${fatalCounter} [FATAL|${prefix}] ${message}`)\n}\n\n/**\n * Add conter and prefix and execute console.warn()\n * @param  {String} message - Your log text\n * @param  {Object} _object - If you pass an object or array, it's will be put together\n * @return {Function}\n */\nexport const warn = (message, _object) => {\n    const object = _object !== undefined\n        ? _object\n        : ''\n\n    warnCounter++\n\n    return console.warn(`${warnCounter} [WARN|${prefix}] ${message}`, object)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./logger.js","import * as logger from './logger'\nimport { global, constructors } from './config'\n\n/**\n * Create view inside map\n * @param  {Object} map - The map object in memory\n * @param  {Function} View - ESRI View constructor\n * @param  {Object} options - Group of informations about your\n *                            app and how map will be\n * @param  {String} options.cdn - ESRI CDN Server\n * @param  {String} options.element - DOM element that map will be created\n * @param  {Number} options.scale - Initial map scale\n * @param  {Number} options.center.longitude - Center map Longitude\n * @param  {Number} options.center.latitude - Center map Latitude\n * @param  {String} options.basemap - Initial basemap\n * @param  {Boolean} options.stars - If stars is enabled\n * @param  {Boolean} options.atmosphere.enable - If atmosphere is enabled\n * @param  {String} options.atmosphere.quality - Atmosphere quality\n * @param  {Boolean} options.watcher - If watcherRunning() is enabled\n * @param  {Boolean} options.light.cameraTracking - If you to display the\n *                                                lighting according to the\n *                                                current time of day\n * @param  {Boolean} options.search.enable - If search is enabled\n * @param  {String} options.search.position - Search position\n * @param  {Number} options.search.index - Search index\n * @param  {Array} options.cors - A group of URLs that you need enable CORS\n * @param  {String} options.proxy - Single URL that will proxy your requests\n * @return {Object} Global view object descriptor\n */\nexport const createView = (map, View, options) => {\n    if (global.loaded) {\n        logger.log('Creating View...')\n\n        const view = new View({\n            container: options.element,\n            map: map,\n            scale: options.scale,\n            center: [\n                options.center.longitude,\n                options.center.latitude\n            ],\n            viewingMode: 'global',\n            starsEnabled: options.stars,\n            atmosphereEnabled: options.atmosphere.enable,\n            loaded: true\n        })\n\n        view.then(() => {\n            logger.log('View ready!')\n\n            controlUI(view)\n            // light({\n            //     cameraTracking: options.light.cameraTracking,\n            //     date: options.light.date\n            // })\n\n            if (options.watcher) {\n                watcherRunning(view)\n            }\n        })\n\n        return view\n    } else {\n        logger.fatal(`Fatal error! You need set some map options.`)\n    }\n}\n\n/**\n * Watcher that observe the globe moviment\n * and make requests with specific parameters\n * like extent on 'definitionExpression'\n * @param  {Object} view - Global view object descriptor\n */\nconst watcherRunning = view => {\n    const watchUtils = constructors.utils.watchUtils\n\n    logger.log(`Watcher running! Waiting changes on view.`)\n\n    watchUtils.whenTrue(view, 'stationary', () => {\n        logger.log(`View changed! Getting extent to refreshing layers...`)\n        console.log(view.extent.center.latitude, view.extent.center.longitude, view.scale)\n\n        refreshExtent(view)\n    })\n}\n\n /**\n  * Function to get the actual extent and set the definition expression\n  * on layer and make an request to refreh the layer info\n  * @param  {Object} view - Global view object descriptor\n  */\nconst refreshExtent = view => {\n    const map = global.map\n    const urlQuery = `!xmin=${view.extent.xmin}!xmax=${view.extent.xmax}!ymin=${view.extent.ymin}!ymax=${view.extent.ymax}`\n\n    map.allLayers.map(layer => {\n        if (layer.raw !== undefined) {\n            if (layer.raw.progressive) {\n                if ((view.scale < layer.minScale &&\n                        view.scale > layer.maxScale) ||\n                        (layer.minScale === 0 &&\n                        layer.maxScale === 0)) {\n                    if (layer.raw.type === 0) {\n                        layer.definitionExpression = urlQuery\n                    }\n                    layer.outOfRange = false\n\n                    if (layer.visible) {\n                        logger.log(`Drawing progressive layer: ${layer.title} | URL requested: ${layer.raw.url}/where=${urlQuery}`)\n                    }\n                } else {\n                    if (layer.visible) {\n                        logger.log(`${layer.title} it's visible, but is out of range`)\n                    }\n\n                    layer.outOfRange = true\n                }\n            }\n        }\n    })\n}\n\n/**\n * Only setting some aspects from ESRI UI\n * @param  {Object} view - Global view object descriptor\n */\nconst controlUI = view => {\n    logger.log('Changing UI elements...')\n\n    view.environment.atmosphereEnabled = global.options.atmosphere.enable\n    view.environment.atmosphere.quality = global.options.atmosphere.quality\n\n    if (global.options.search.enable) {\n        const Search = constructors.utils.Search\n        const searchWidget = new Search({\n            view: view\n        })\n\n        view.ui.add(searchWidget, {\n            position: global.options.search.position,\n            index: global.options.search.index\n        })\n    }\n\n    view.ui.remove([\n        'zoom',\n        'compass',\n        'navigation-toggle'\n    ])\n}\n\n/**\n * Change camera tracking\n * @param  {Object} cameraTracking - Set the light on the world based on camera or not\n */\nexport const light = ({cameraTracking, date}) => {\n    const view = global.view\n\n    if (cameraTracking !== '' &&\n        cameraTracking !== undefined) {\n        logger.log(`Changing light camera tracking to: ${cameraTracking}`)\n        view.environment.lighting.cameraTrackingEnabled = cameraTracking\n    }\n\n    if (date === 'now') {\n        logger.log(`Changing light date to: ${date}`)\n        view.environment.lighting.date = Date.now()\n    }\n\n    if (date === '' ||\n        date === undefined) {\n        view.environment.lighting.date = new Date('Jul 15 2017 12:00:00')\n        logger.log(`Changing light date to: default - Jul 15 2017 12:00:00`)\n    }\n}\n\n/**\n * Navigate on map using long/lat and camera position\n * @param  {Object} coordinates - Object that contain destiny longitude and latitude\n * @param  {Number} scale - Scale on earth\n * @param  {Object} camera - Object that contain new angles to position camera\n */\nexport const newPosition = ({extent, coordinates, scale, camera}) => {\n    if (extent !== undefined ||\n        coordinates !== undefined ||\n        scale !== undefined ||\n        camera !== undefined) {\n        const view = global.view\n        const Extent = constructors.utils.Extent\n        let newExtent\n\n        if (extent) {\n            newExtent = new Extent({\n                xmax: extent.xmax || '',\n                xmin: extent.xmin || '',\n                ymax: extent.ymax || '',\n                ymin: extent.ymin || '',\n                spatialReference: {\n                    wkid: extent.spatialReference\n                        ? extent.spatialReference.wkid\n                        : ''\n                }\n            })\n        }\n\n        view.goTo({\n            target: extent &&\n                newExtent\n                ? newExtent\n                : '',\n            center:\n                coordinates &&\n                coordinates.longitude &&\n                coordinates.latitude\n                ? [\n                    coordinates.longitude,\n                    coordinates.latitude\n                ]\n                : '',\n            scale: scale || '',\n            tilt: camera &&\n                camera.tilt\n                ? camera.tilt\n                : '',\n            heading: camera &&\n                camera.heading\n                ? camera.heading\n                : '',\n            position: camera &&\n                camera.position\n                ? camera.position\n                : ''\n        })\n\n        logger.log(`Changing map position...`)\n    } else {\n        logger.error(`You need set a new position formed by a pair of coordinates, a new scale and new camera positions`)\n    }\n}\n\n/**\n * Change basemap on global map object\n * @param  {String} basemap - A basemap name that match with basemap's list from ESRI\n *                          'streets', 'satellite', 'hybrid', 'topo', 'gray',\n *                          'dark-gray', 'oceans', 'national-geographic',\n *                          'terrain', 'osm', 'dark-gray-vector', 'gray-vector',\n *                          'streets-vector', 'topo-vector', 'streets-night-vector',\n *                          'streets-relief-vector', 'streets-navigation-vector'\n *                          or 'none'\n */\nexport const changeBasemap = basemap => {\n    if (basemap) {\n        const map = global.map\n\n        map.basemap = basemap\n\n        logger.log(`Change basemap...`)\n    } else {\n        logger.error(`You need set a new basemap`)\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./view.js","import * as logger from './logger'\nimport { global, constructors } from './config'\n\n/**\n * Recieve all layers, work and add on map\n * @constructor\n * @param  {Array} layers - List of layers\n * @return {Function} - New Layer on Map\n */\nexport const add = layers => {\n    const map = global.map\n\n    layers.map((layer, indx) => {\n        if (validate(layer)) {\n            if (layer.id === undefined ||\n                layer.id === '' ||\n                !layer.id) {\n                logger.log(`Adding id by index on layer`)\n                layer.id = indx\n            }\n\n            layer.outOfRange = true\n\n            return map.add(create(layer))\n        }\n    })\n}\n\n/**\n * Validate single layer\n * @param  {Object} layer - Layer with some options\n * @return {Boolean} True or false to validation\n */\nconst validate = layer => {\n    if (layer) {\n        !layer.title ||\n            logger.log(`Validating layer: ${layer.title}`)\n\n        if (layer.title === undefined ||\n            layer.title === '' ||\n            !layer.title) {\n            logger.fatal(`You need provide a layer title`)\n\n            return false\n        }\n\n        if (layer.visible === undefined ||\n            layer.visible === '') {\n            layer.visible = true\n            logger.warn(`You not set intial visible. Usign default: true`)\n        }\n\n        if (layer.definitionExpression === undefined ||\n            layer.definitionExpression === '') {\n            layer.definitionExpression = ''\n            logger.warn(`You not set intial definitionExpression. Usign default: ''`)\n        }\n\n        if (layer.type === undefined ||\n            layer.type === '' ||\n            layer.type === false) {\n            logger.fatal(`You need provide a layer type (0 = FeatureLayer, 1 = TileLayer)`)\n\n            return false\n        }\n\n        if (layer.url === undefined ||\n            layer.url === '' ||\n            !layer.url) {\n            logger.fatal(`You need provide an URL layer`)\n\n            return false\n        }\n\n        return true\n    } else {\n        logger.fatal(`You need pass some informations to describe your layer`)\n        return false\n    }\n}\n\n/**\n * Recieve a single layer object and return layer ready\n * @param {Object} _layer - Valid Layer object previously worked\n * @return {Object} Layer ready to add on map\n */\nconst create = _layer => {\n    const layerConstructors = constructors.layer\n    const utilsConstructors = constructors.utils\n    const jsonUtils = utilsConstructors.jsonUtils\n    let LayerType\n    let layerLabel\n\n    if (_layer.type === 0) {\n        layerLabel = 'Feature Layer'\n        LayerType = layerConstructors.FeatureLayer\n    } else if (_layer.type === 1) {\n        layerLabel = 'Tile Layer'\n        LayerType = layerConstructors.TileLayer\n    }\n\n    const layer = new LayerType({\n        id: _layer.id,\n        title: _layer.title,\n        url: _layer.url,\n        definitionExpression: _layer.definitionExpression,\n        raw: _layer,\n        visible: _layer.visible\n    })\n\n    logger.log(`Adding a ${layerLabel} on map: ${layer.raw.title} | Visibility: ${layer.raw.visible} | URL: ${layer.raw.url}`)\n\n    if (layer.raw.renderer) {\n        logger.log(`Applying renderer...`)\n\n        layer.renderer = jsonUtils.fromJSON(layer.raw.renderer)\n    }\n\n    // if (layer.raw.popupTemplate) {\n    //     layer.popupTemplate = applyingPopups(layer.raw)\n    // }\n\n    layer.then(() => {\n        logger.log(`Layer ${layer.title} ready!`)\n\n        if (layer.raw.type === 1) {\n            layer.minScale = layer.raw.minScale !== null &&\n                parseInt(layer.raw.minScale) !== 0\n                ? layer.raw.minScale\n                : 0\n            layer.maxScale = layer.raw.maxScale !== null &&\n                parseInt(layer.raw.maxScale)\n                ? layer.raw.maxScale\n                : 0\n\n            // logger.log(`minScale: ${parseInt(layer.minScale)} and maxScale: ${parseInt(layer.maxScale)} defined manually`)\n        }\n    })\n\n    return layer\n}\n\n/**\n * Remove layer from map\n * @param  {String|Number} _layer - Layer title or ID\n * @return {Function} - Remove Layer on Map\n */\nexport const remove = _layer => {\n    const map = global.map\n    const layer = find(_layer)\n\n    if (layer) {\n        return map.remove(layer)\n    } else {\n        logger.error(`Can't find layer: ${_layer} in map. You already added this layer?`)\n    }\n}\n\n/**\n * Find specific layer in map\n * @param  {String|Number} _layer - Layer title or ID\n * @return {Object} Layer that will be manipulated\n */\nexport const find = _layer => {\n    const map = global.map\n\n    return map.allLayers.find(layer => {\n        if (layer.raw !== undefined) {\n            if (layer.raw.title === _layer ||\n                layer.raw.id === _layer) {\n                return layer\n            }\n        }\n    })\n}\n\n/**\n * get all layers included on map\n * @return {Array} list of all layers included by user\n */\nexport const all = () => {\n    const map = global.map\n\n    return map.allLayers._items.filter(layer => {\n        if (layer.raw !== undefined) {\n            return true\n        }\n    })\n}\n\n/**\n * Change layer visibility\n * @param  {String|Number} _layer - Layer title or ID\n * @param  {Boolean} visibility - Set if layer is visible or not\n */\nexport const setVisibility = (_layer, visibility) => {\n    const layer = find(_layer)\n\n    if (layer) {\n        layer.visible = visibility\n        logger.log(`Change visibility of layer: ${_layer} to: ${visibility}`)\n    } else {\n        logger.error(`Can't find layer: ${_layer} in map. You already added this layer?`)\n    }\n}\n\n/**\n * Change layer opacity\n * @param  {String|Number} _layer - Layer title or ID\n * @param  {Number} _opacity - new opacity\n */\nexport const setOpacity = (_layer, _opacity) => {\n    const layer = find(_layer)\n\n    if (layer) {\n        layer.opacity = _opacity / 100\n        logger.log(`Change opacity of layer: ${_layer} to: ${_opacity}`)\n    } else {\n        logger.error(`Can't find layer: ${_layer} in map. You already added this layer?`)\n    }\n}\n\n/**\n * Change visibility of all layers using parameter\n * @param  {String|Number} _layer - Layer title or ID\n * @param  {Boolean} visibility - Set if all layers will is visible or not\n */\nconst changeVisibility = (_layer, visibility) => {\n    const map = global.map\n\n    const toggle = layer => {\n        if (layer.visible === !visibility) {\n            layer.visible = visibility\n            logger.log(`Change visibility of layer: ${layer.raw.title} to: ${visibility}`)\n        }\n    }\n\n    map.allLayers.map(layer => {\n        if (layer.raw !== undefined) {\n            if (_layer &&\n                layer.raw.title === _layer ||\n                layer.raw.id === _layer) {\n                toggle(layer)\n            } else {\n                toggle(layer)\n            }\n        }\n    })\n}\n\n/**\n * Set visibility of all layers to false\n * @param  {String|Number} _layer - Layer title or ID\n */\nexport const hideAll = _layer => {\n    changeVisibility(_layer, false)\n}\n\n/**\n * Set visibility of all layers to true\n * @param  {String|Number} _layer - Layer title or ID\n */\nexport const showAll = _layer => {\n    changeVisibility(_layer, true)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./layers.js","import * as esriLoader from 'esri-loader'\nimport * as logger from './logger'\nimport { createView } from './view'\nimport { global, constructors } from './config'\n\n/**\n * Simple function to set globaly options about the map\n * To start using ArcEasy you need invocate this function first\n * @param  {Object} options - Group of informations about your\n *                            app and how map will be\n * @param  {String} options.cdn - ESRI CDN Server\n * @param  {String} options.element - DOM element that map will be created\n * @param  {Number} options.scale - Initial map scale\n * @param  {Number} options.center.longitude - Center map Longitude\n * @param  {Number} options.center.latitude - Center map Latitude\n * @param  {String} options.basemap - Initial basemap\n * @param  {Boolean} options.stars - If stars is enabled\n * @param  {Boolean} options.atmosphere.enable - If atmosphere is enabled\n * @param  {String} options.atmosphere.quality - Atmosphere quality\n * @param  {Boolean} options.watcher - If watcherRunning() is enabled\n * @param  {Boolean} options.light.cameraTracking - If you to display the\n *                                                lighting according to the\n *                                                current time of day\n * @param  {Boolean} options.search.enable - If search is enabled\n * @param  {String} options.search.position - Search position\n * @param  {Number} options.search.index - Search index\n * @param  {Array} options.cors - A group of URLs that you need enable CORS\n * @param  {String} options.proxy - Single URL that will proxy your requests\n */\nexport const options = options => {\n    if (options) {\n        options.cdn ||\n            logger.warn(`You not set any ESRI CDN. Usign default: ${global.options.cdn}`)\n\n        options.element ||\n            logger.fatal(`You need pass an valid DOM element`)\n\n        options.scale ||\n            logger.warn(`You not set scale. Usign default scale: ${global.options.scale}`)\n\n        if (options.center) {\n            options.center.longitude ||\n                logger.warn(`You not set intial longitude. Usign default: ${global.options.center.longitude}`)\n\n            options.center.latitude ||\n                logger.warn(`You not set intial latitude. Usign default: ${global.options.center.latitude}`)\n        } else {\n            logger.warn(`You not set the map center. Usign defaults | longitude: ${global.options.center.longitude}, latitude: ${global.options.center.latitude}`)\n        }\n\n        options.basemap ||\n            logger.warn(`You not set initial basemap. Usign default: ${global.options.basemap}`)\n\n        options.stars === true ||\n        options.stars === false ||\n            logger.warn(`You not set if map usign stars. Usign default: ${global.options.stars}`)\n\n        if (options.atmosphere) {\n            options.atmosphere.enable === true ||\n            options.atmosphere.enable === false ||\n                logger.warn(`You not set if map usign atmosphere efect. Usign default: ${global.options.atmosphere.enable}`)\n\n            options.atmosphere.quality ||\n                logger.warn(`You not set atmosphere quality. Usign default: ${global.options.atmosphere.quality}`)\n        } else {\n            logger.warn(`You not set the atmosphere options. Usign defaults | enable: ${global.options.atmosphere.enable}, quality: ${global.options.atmosphere.quality}`)\n        }\n\n        options.watcher === true ||\n        options.watcher === false ||\n            logger.warn(`You not set if map usign watcher to refresh the layers. Usign default: ${global.options.watcher}`)\n\n        if (options.light) {\n            options.light.cameraTracking === true ||\n            options.light.cameraTracking === false ||\n                logger.warn(`You not set the camera tracking options. Usign default: ${global.options.light.cameraTracking}`)\n\n            options.light.date === '' ||\n            options.light.date === undefined ||\n                logger.warn(`You not set a date to view light position.`)\n        } else {\n            logger.warn(`You not set the light options. Usign default for camera tracking: ${global.options.light.cameraTracking}`)\n        }\n\n        if (options.search) {\n            options.search.enable === true ||\n            options.search.enable === false ||\n                logger.warn(`You not set Search. Usign default: ${global.options.search.enable}`)\n\n            options.search.position ||\n                logger.warn(`You not set Search position. Usign default: ${global.options.search.position}`)\n\n            options.search.index ||\n                logger.warn(`You not set Search index. Usign default: ${global.options.search.index}`)\n        } else {\n            logger.warn(`You not set the search options. Usign defaults | enable: ${global.options.search.enable}, position: ${global.options.search.position}, index: ${global.options.search.index}`)\n        }\n\n        options.cors &&\n        options.cors.length > 0 ||\n            logger.warn(`You not set any URL to enable CORS requests`)\n\n        options.proxy ||\n            logger.warn(`You not set any URL to proxy your requests`)\n\n        global.options = {\n            cdn: options.cdn !== '' &&\n                options.cdn !== undefined\n                ? options.cdn\n                : global.options.cdn,\n            element: options.element,\n            scale: options.scale !== '' &&\n                options.scale !== undefined\n                ? options.scale\n                : global.options.scale,\n            center: {\n                longitude: options.center &&\n                    options.center.longitude !== '' &&\n                    options.center.longitude !== undefined\n                    ? options.center.longitude\n                    : global.options.center.longitude,\n                latitude: options.center &&\n                    options.center.latitude !== '' &&\n                    options.center.latitude !== undefined\n                    ? options.center.latitude\n                    : global.options.center.latitude\n            },\n            basemap: options.basemap !== '' &&\n                options.basemap !== undefined\n                ? options.basemap\n                : global.options.basemap,\n            stars: options.stars !== '' &&\n                options.stars !== undefined\n                ? options.stars\n                : global.options.stars,\n            atmosphere: {\n                enable: options.atmosphere &&\n                    options.atmosphere.enable !== '' &&\n                    options.atmosphere.enable !== undefined\n                    ? options.atmosphere.enable\n                    : global.options.atmosphere.enable,\n                quality: options.atmosphere &&\n                    options.atmosphere.quality !== '' &&\n                    options.atmosphere.quality !== undefined\n                    ? options.atmosphere.quality\n                    : global.options.atmosphere.quality\n            },\n            watcher: options.watcher !== '' &&\n                options.watcher !== undefined\n                ? options.watcher\n                : global.options.watcher,\n            light: {\n                cameraTracking: options.light &&\n                options.light.cameraTracking !== '' &&\n                options.light.cameraTracking !== undefined\n                ? options.light.cameraTracking\n                : global.options.light.cameraTracking,\n                date: options.light &&\n                options.light.date !== '' &&\n                options.light.date !== undefined\n                ? options.light.date\n                : global.options.light.date\n            },\n            search: {\n                enable: options.search &&\n                    options.search.enable !== '' &&\n                    options.search.enable !== undefined\n                    ? options.search.enable\n                    : global.options.search.enable,\n                position: options.search &&\n                    options.search.position !== '' &&\n                    options.search.position !== undefined\n                    ? options.search.position\n                    : global.options.search.position,\n                index: options.search &&\n                    options.search.index !== '' &&\n                    options.search.index !== undefined\n                    ? options.search.index\n                    : global.options.search.index\n            },\n            cors: options.cors !== '' &&\n                options.cors !== undefined\n                ? options.cors\n                : '',\n            proxy: options.proxy !== '' &&\n                options.proxy !== undefined\n                ? options.proxy\n                : ''\n        }\n\n        global.loaded = true\n        logger.log(`Ready to start!`)\n    } else {\n        logger.fatal(`You need pass some informations to describe your map`)\n    }\n}\n\n/**\n * The BigBang function\n * To create your map you need invocate this function\n */\nexport const start = () => {\n    return new Promise((resolve, reject) => {\n        const cdn = global.options.cdn\n\n        if (cdn !== undefined && global.loaded) {\n            // Has the ArcGIS API been added to the page?\n            if (!esriLoader.isLoaded()) {\n                // No, lazy load it the ArcGIS API before using its classes\n                esriLoader.bootstrap(err => {\n                    if (err) {\n                        logger.error(err)\n                    }\n                    // Once it's loaded, create the map\n                    logger.log(`Waiting ESRI server...`)\n                    dojoLoader(resolve, reject)\n                }, {\n                    // Use a specific version instead of latest 4.x\n                    url: cdn\n                })\n            } else {\n                // ArcGIS API is already loaded, just create the map\n                logger.log(`Waiting ESRI server...`)\n                dojoLoader(resolve, reject)\n            }\n        } else {\n            logger.fatal(`Fatal error! You must provider an CDN.`)\n            reject()\n        }\n    })\n}\n\n/**\n * Require all packages from ESRI CDN,\n * create necessary constructors,\n * create map,\n * create view,\n * and put in page\n */\nconst dojoLoader = (resolve, reject) => {\n    if (global.loaded) {\n        esriLoader.dojoRequire([\n            'esri/config',\n            'esri/Map',\n            'esri/Graphic',\n            'esri/Camera',\n            'esri/WebScene',\n            'esri/request',\n            'esri/Color',\n\n            'esri/views/SceneView',\n            'esri/views/3d/externalRenderers',\n\n            'esri/layers/FeatureLayer',\n            'esri/layers/TileLayer',\n            'esri/layers/GraphicsLayer',\n            'esri/layers/PointCloudLayer',\n            'esri/layers/SceneLayer',\n\n            'esri/core/watchUtils',\n            'esri/core/Collection',\n            'esri/core/declare',\n            'esri/core/lang',\n\n            'esri/renderers/UniqueValueRenderer',\n            'esri/renderers/ClassBreaksRenderer',\n            'esri/renderers/SimpleRenderer',\n            'esri/renderers/support/jsonUtils',\n            'esri/renderers/PointCloudUniqueValueRenderer',\n            'esri/renderers/PointCloudRGBRenderer',\n            'esri/renderers/PointCloudStretchRenderer',\n            'esri/renderers/PointCloudClassBreaksRenderer',\n            'esri/renderers/smartMapping/creators/color',\n\n            'esri/symbols/ExtrudeSymbol3DLayer',\n            'esri/symbols/PolygonSymbol3D',\n            'esri/symbols/SimpleMarkerSymbol',\n            'esri/symbols/PictureMarkerSymbol',\n            'esri/symbols/SimpleLineSymbol',\n            'esri/symbols/SimpleFillSymbol',\n            'esri/symbols/PointSymbol3D',\n            'esri/symbols/ObjectSymbol3DLayer',\n            'esri/symbols/MeshSymbol3D',\n            'esri/symbols/FillSymbol3DLayer',\n            'esri/symbols/LineSymbol3D',\n            'esri/symbols/PathSymbol3DLayer',\n            'esri/symbols/TextSymbol',\n\n            'esri/geometry/Geometry',\n            'esri/geometry/Point',\n            'esri/geometry/Extent',\n            'esri/geometry/SpatialReference',\n            'esri/geometry/geometryEngine',\n            'esri/geometry/support/webMercatorUtils',\n\n            'esri/tasks/QueryTask',\n            'esri/tasks/support/Query',\n\n            'esri/widgets/Search',\n            'esri/widgets/ColorSlider',\n            'esri/widgets/Legend',\n\n            'dojo/promise/all',\n            'dojo/on',\n            'dojo/query',\n            'dojo/domReady!'\n        ], (\n            esriConfig,\n            Map,\n            Graphic,\n            Camera,\n            WebScene,\n            esriRequest,\n            Color,\n            SceneView,\n            externalRenderers,\n            FeatureLayer,\n            TileLayer,\n            GraphicsLayer,\n            PointCloudLayer,\n            SceneLayer,\n            watchUtils,\n            Collection,\n            declare,\n            lang,\n            UniqueValueRenderer,\n            ClassBreaksRenderer,\n            SimpleRenderer,\n            jsonUtils,\n            PointCloudUniqueValueRenderer,\n            PointCloudRGBRenderer,\n            PointCloudStretchRenderer,\n            PointCloudClassBreaksRenderer,\n            colorRendererCreator,\n            ExtrudeSymbol3DLayer,\n            PolygonSymbol3D,\n            SimpleMarkerSymbol,\n            PictureMarkerSymbol,\n            SimpleLineSymbol,\n            SimpleFillSymbol,\n            PointSymbol3D,\n            ObjectSymbol3DLayer,\n            MeshSymbol3D,\n            FillSymbol3DLayer,\n            LineSymbol3D,\n            PathSymbol3DLayer,\n            TextSymbol,\n            Geometry,\n            Point,\n            Extent,\n            SpatialReference,\n            geometryEngine,\n            webMercatorUtils,\n            QueryTask,\n            Query,\n            Search,\n            ColorSlider,\n            Legend,\n            all,\n            on,\n            query\n        ) => {\n            if (global.options.cors) {\n                global.options.cors.forEach(elm => {\n                    esriConfig.request.corsEnabledServers.push(elm)\n                })\n            }\n\n            esriConfig.request.proxyUrl = global.options.proxy || ''\n\n            constructors.Map = Map\n            constructors.SceneView = SceneView\n            constructors.WebScene = WebScene\n            constructors.externalRenderers = externalRenderers\n\n            constructors.layer.FeatureLayer = FeatureLayer\n            constructors.layer.TileLayer = TileLayer\n            constructors.layer.GraphicsLayer = GraphicsLayer\n            constructors.layer.PointCloudLayer = PointCloudLayer\n            constructors.layer.SceneLayer = SceneLayer\n\n            constructors.utils.watchUtils = watchUtils\n            constructors.utils.Search = Search\n            constructors.utils.ColorSlider = ColorSlider\n            constructors.utils.Legend = Legend\n            constructors.utils.jsonUtils = jsonUtils\n            constructors.utils.Extent = Extent\n            constructors.utils.SpatialReference = SpatialReference\n            constructors.utils.geometryEngine = geometryEngine\n            constructors.utils.webMercatorUtils = webMercatorUtils\n            constructors.utils.Camera = Camera\n            constructors.utils.Graphic = Graphic\n            constructors.utils.esriRequest = esriRequest\n            constructors.utils.Color = Color\n            constructors.utils.declare = declare\n            constructors.utils.lang = lang\n            constructors.utils.QueryTask = QueryTask\n            constructors.utils.Query = Query\n\n            constructors.renderer.UniqueValueRenderer = UniqueValueRenderer\n            constructors.renderer.ClassBreaksRenderer = ClassBreaksRenderer\n            constructors.renderer.ExtrudeSymbol3DLayer = ExtrudeSymbol3DLayer\n            constructors.renderer.PolygonSymbol3D = PolygonSymbol3D\n            constructors.renderer.SimpleRenderer = SimpleRenderer\n            constructors.renderer.SimpleMarkerSymbol = SimpleMarkerSymbol\n            constructors.renderer.PictureMarkerSymbol = PictureMarkerSymbol\n            constructors.renderer.SimpleLineSymbol = SimpleLineSymbol\n            constructors.renderer.SimpleFillSymbol = SimpleFillSymbol\n            constructors.renderer.Point = Point\n            constructors.renderer.PointSymbol3D = PointSymbol3D\n            constructors.renderer.ObjectSymbol3DLayer = ObjectSymbol3DLayer\n            constructors.renderer.MeshSymbol3D = MeshSymbol3D\n            constructors.renderer.FillSymbol3DLayer = FillSymbol3DLayer\n            constructors.renderer.LineSymbol3D = LineSymbol3D\n            constructors.renderer.PathSymbol3DLayer = PathSymbol3DLayer\n            constructors.renderer.TextSymbol = TextSymbol\n            constructors.renderer.PointCloudUniqueValueRenderer = PointCloudUniqueValueRenderer\n            constructors.renderer.PointCloudRGBRenderer = PointCloudRGBRenderer\n            constructors.renderer.PointCloudStretchRenderer = PointCloudStretchRenderer\n            constructors.renderer.PointCloudClassBreaksRenderer = PointCloudClassBreaksRenderer\n            constructors.renderer.colorRendererCreator = colorRendererCreator\n\n            constructors.dojo.on = on\n            constructors.dojo.all = all\n            constructors.dojo.query = query\n\n            if (constructors.Map && constructors.SceneView) {\n                logger.log(`All constructorss created!`)\n\n                createMap(\n                    constructors.Map,\n                    global.options.basemap\n                )\n                .then(map => {\n                    global.map = map\n                    return global.map\n                })\n                .then(map => {\n                    createView(\n                        map,\n                        constructors.SceneView,\n                        global.options\n                    ).then(view => {\n                        global.view = view\n                        resolve()\n                    })\n                })\n            } else {\n                logger.error(`Error during creating the necessary constructors... Try again.`)\n                reject()\n            }\n        })\n    } else {\n        logger.fatal(`Fatal error! You need set some map options.`)\n        reject()\n    }\n}\n\n/**\n * Create map using ESRI Map constructor\n * @param  {Function} Map - ESRI Map constructor\n * @param  {String} basemap - The initial basemap\n * @return {Object} Global map object descriptor\n */\nconst createMap = (Map, basemap) => {\n    logger.log(`Creating map...`)\n\n    const map = new Map({\n        basemap: basemap,\n        ground: 'world-elevation'\n    })\n\n    return Promise.resolve(map)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./map.js","import * as logger from './logger'\nimport { global, constructors } from './config'\n\n/**\n * Helper to add a simple point or text symbol on map using layer\n * @param {Object} info - Some informations about your layer\n * @param {String} info.id - You can pass an ID to find this layer after\n * @param {Object} symbol - Some informations about your symbol\n * @param {Number} symbol.width - Width of the symbol\n * @param {Number} symbol.height - Height of the symbol\n * @param {String} symbol.primitive - Name of the symbol\n * @param {String} symbol.color - Color of the symbol\n * @param {Object} point - Some information about the position of the symbol\n * @param {Number} point.x - X axis position\n * @param {Number} point.y - Y axis position\n * @param {Number} point.z - Z axis position\n * @param {Object} text - Some information about the text content\n * @param {Number} text.color - Color of the text\n * @param {Number} text.content - The content\n * @param {Number} text.size - Size in pixels\n * @param {Number} text.font - Font family ex: FontAwesome\n */\nexport const addGraphicSymbol = ({info, symbol, point, text}) => {\n    const map = global.map\n    const GraphicsLayer = constructors.layer.GraphicsLayer\n    const PointSymbol3D = constructors.renderer.PointSymbol3D\n    const ObjectSymbol3DLayer = constructors.renderer.ObjectSymbol3DLayer\n    const Point = constructors.renderer.Point\n    const TextSymbol = constructors.renderer.TextSymbol\n    const Graphic = constructors.utils.Graphic\n\n    const graphicsLayer = new GraphicsLayer({\n        raw: {\n            id: info.id !== '' &&\n                info.id !== undefined\n                ? info.id\n                : '[ArcE]Graph'\n        }\n    })\n\n    const objectSymbol = new PointSymbol3D({\n        symbolLayers: [\n            new ObjectSymbol3DLayer({\n                width: symbol !== undefined\n                    ? symbol.width\n                    : undefined,\n                height: symbol !== undefined\n                    ? symbol.height\n                    : undefined,\n                resource: {\n                    primitive: symbol !== undefined\n                        ? symbol.primitive\n                        : undefined\n                },\n                material: {\n                    color: symbol !== undefined\n                        ? symbol.color\n                        : undefined\n                }\n            })\n        ]\n    })\n\n    const _point = new Point({\n        x: point.x,\n        y: point.y,\n        z: point.z\n    })\n\n    const textSymbol = new TextSymbol({\n        color: text !== undefined\n            ? text.color\n            : undefined,\n        text: text !== undefined\n            ? text.content\n            : undefined,\n        font: {\n            size: text !== undefined\n                ? text.size\n                : undefined,\n            family: text !== undefined\n                ? text.font\n                : undefined\n        }\n    })\n\n    const pointGraphic = new Graphic({\n        geometry: _point,\n        symbol: objectSymbol || textSymbol\n    })\n\n    map.add(graphicsLayer)\n    graphicsLayer.add(pointGraphic)\n\n    logger.log(`Adding a Graphic Layer on map...`)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils.js","import * as map from './map'\nimport * as view from './view'\nimport * as layers from './layers'\nimport * as utils from './utils'\nimport { global, constructors } from './config'\n\nmodule.exports = {\n    map,\n    view,\n    layers,\n    utils,\n    obj: {\n        get map () { return global.map },\n        get view () { return global.view },\n        get constructors () { return constructors }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","// get the script injected by this library\nfunction getScript() {\n    return document.querySelector('script[data-esri-loader]');\n}\n// has ArcGIS API been loaded on the page yet?\nexport function isLoaded() {\n    // would like to just use window.require, but fucking typescript\n    return typeof window['require'] !== 'undefined' && getScript();\n}\n// load the ArcGIS API on the page\nexport function bootstrap(callback, options) {\n    if (options === void 0) { options = {}; }\n    // default options\n    if (!options.url) {\n        options.url = 'https://js.arcgis.com/4.3/';\n    }\n    // don't reload API if it is already loaded or in the process of loading\n    if (getScript()) {\n        callback(new Error('The ArcGIS API for JavaScript is already loaded.'));\n        return;\n    }\n    // create a script object whose source points to the API\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = options.url;\n    script.dataset['esriLoader'] = 'loading';\n    // once the script is loaded...\n    script.onload = function () {\n        // update the status of the script\n        script.dataset['esriLoader'] = 'loaded';\n        // we can now use Dojo's require() to load esri and dojo AMD modules\n        var dojoRequire = window['require'];\n        if (callback) {\n            // let the caller know that the API has been successfully loaded\n            // and as a convenience, return the require function\n            // in case they want to use it directly\n            callback(null, dojoRequire);\n        }\n    };\n    // load the script\n    document.body.appendChild(script);\n}\nexport function dojoRequire(modules, callback) {\n    if (isLoaded()) {\n        window['require'](modules, callback);\n    }\n    else {\n        var script_1 = getScript();\n        if (script_1) {\n            // Not yet loaded but script is in the body - use callback once loaded\n            var onScriptLoad_1 = function () {\n                window['require'](modules, callback);\n                script_1.removeEventListener('load', onScriptLoad_1, false);\n            };\n            script_1.addEventListener('load', onScriptLoad_1);\n        }\n        else {\n            // Not bootstrapped\n            throw new Error('The ArcGIS API for JavaScript has not been loaded. You must first call esriLoader.bootstrap()');\n        }\n    }\n}\nexport default {\n    isLoaded: isLoaded,\n    bootstrap: bootstrap,\n    dojoRequire: dojoRequire\n};\n//# sourceMappingURL=esri-loader.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/esri-loader/src/esri-loader.js\n// module id = 7\n// module chunks = 0"],"sourceRoot":""}