module.exports=function(e){function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}var t={};return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=6)}([function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.prefix="ArcEasy",r.global={map:{},view:{},options:{cdn:"https://js.arcgis.com/4.3/",element:"",scale:25e6,center:{longitude:-13.78,latitude:-52.17},basemap:"streets",stars:!0,atmosphere:{enable:!0,quality:"low"},watcher:!0,light:{cameraTracking:!0},search:{enable:!1,position:"top-left",index:1},cors:[],proxy:""},loaded:!1},r.constructors={layer:{},map:{},container:{},view:{},utils:{},renderer:{},dojo:{}},r.templates={renderers:[],symbols:[]}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.warn=r.fatal=r.error=r.log=void 0;var o=t(0),n=0,a=0,i=0,s=0;r.log=function(e,r){var t=void 0!==r?r:"";return n++,console.log(n+" [LOG|"+o.prefix+"] "+e,t)},r.error=function(e,r){var t=void 0!==r?r:"";return a++,console.error(a+" [ERROR|"+o.prefix+"] "+e,t)},r.fatal=function(e){throw i++,new Error(i+" [FATAL|"+o.prefix+"] "+e)},r.warn=function(e,r){var t=void 0!==r?r:"";return s++,console.warn(s+" [WARN|"+o.prefix+"] "+e,t)}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.showAll=r.hideAll=r.setOpacity=r.setVisibility=r.all=r.find=r.remove=r.add=void 0;var o=t(1),n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(o),a=t(0),i=(r.add=function(e){var r=a.global.map;e.map(function(e,t){if(i(e))return void 0!==e.id&&""!==e.id&&e.id||(n.log("Adding id by index on layer"),e.id=t),e.outOfRange=!0,r.add(s(e))})},function(e){return e?(!e.title||n.log("Validating layer: "+e.title),void 0!==e.title&&""!==e.title&&e.title?(void 0!==e.visible&&""!==e.visible||(e.visible=!0,n.warn("You not set intial visible. Usign default: true")),void 0!==e.definitionExpression&&""!==e.definitionExpression||(e.definitionExpression="",n.warn("You not set intial definitionExpression. Usign default: ''")),void 0===e.type||""===e.type||!1===e.type?(n.fatal("You need provide a layer type (0 = FeatureLayer, 1 = TileLayer)"),!1):!(void 0===e.url||""===e.url||!e.url)||(n.fatal("You need provide an URL layer"),!1)):(n.fatal("You need provide a layer title"),!1)):(n.fatal("You need pass some informations to describe your layer"),!1)}),s=function(e){var r=a.constructors.layer,t=a.constructors.utils,o=t.jsonUtils,i=void 0,s=void 0;0===e.type?(s="Feature Layer",i=r.FeatureLayer):1===e.type&&(s="Tile Layer",i=r.TileLayer);var l=new i({id:e.id,title:e.title,url:e.url,definitionExpression:e.definitionExpression,raw:e,visible:e.visible});return n.log("Adding a "+s+" on map: "+l.raw.title+" | Visibility: "+l.raw.visible+" | URL: "+l.raw.url),l.raw.renderer&&(n.log("Applying renderer..."),l.renderer=o.fromJSON(l.raw.renderer)),l.then(function(){n.log("Layer "+l.title+" ready!"),1===l.raw.type&&(l.minScale=null!==l.raw.minScale&&0!==parseInt(l.raw.minScale)?l.raw.minScale:0,l.maxScale=null!==l.raw.maxScale&&parseInt(l.raw.maxScale)?l.raw.maxScale:0)}),l},l=(r.remove=function(e){var r=a.global.map,t=l(e);if(t)return r.remove(t);n.error("Can't find layer: "+e+" in map. You already added this layer?")},r.find=function(e){return a.global.map.allLayers.find(function(r){if(void 0!==r.raw&&(r.raw.title===e||r.raw.id===e))return r})}),c=(r.all=function(){return a.global.map.allLayers._items.filter(function(e){if(void 0!==e.raw)return!0})},r.setVisibility=function(e,r){var t=l(e);t?(t.visible=r,n.log("Change visibility of layer: "+e+" to: "+r)):n.error("Can't find layer: "+e+" in map. You already added this layer?")},r.setOpacity=function(e,r){var t=l(e);t?(t.opacity=r/100,n.log("Change opacity of layer: "+e+" to: "+r)):n.error("Can't find layer: "+e+" in map. You already added this layer?")},function(e,r){var t=a.global.map,o=function(e){e.visible===!r&&(e.visible=r,n.log("Change visibility of layer: "+e.raw.title+" to: "+r))};t.allLayers.map(function(r){void 0!==r.raw&&o(e&&r.raw.title===e||r.raw.id===e?r:r)})});r.hideAll=function(e){c(e,!1)},r.showAll=function(e){c(e,!0)}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.changeBasemap=r.newPosition=r.light=r.createView=void 0;var o=t(1),n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(o),a=t(0),i=(r.createView=function(e,r,t){if(a.global.loaded){n.log("Creating View...");var o=new r({container:t.element,map:e,scale:t.scale,center:[t.center.longitude,t.center.latitude],viewingMode:"global",starsEnabled:t.stars,atmosphereEnabled:t.atmosphere.enable,loaded:!0});return o.then(function(){n.log("View ready!"),l(o),t.watcher&&i(o)}),o}n.fatal("Fatal error! You need set some map options.")},function(e){var r=a.constructors.utils.watchUtils;n.log("Watcher running! Waiting changes on view."),r.whenTrue(e,"stationary",function(){n.log("View changed! Getting extent to refreshing layers..."),console.log(e.extent.center.latitude,e.extent.center.longitude,e.scale),s(e)})}),s=function(e){var r=a.global.map,t="!xmin="+e.extent.xmin+"!xmax="+e.extent.xmax+"!ymin="+e.extent.ymin+"!ymax="+e.extent.ymax;r.allLayers.map(function(r){void 0!==r.raw&&r.raw.progressive&&(e.scale<r.minScale&&e.scale>r.maxScale||0===r.minScale&&0===r.maxScale?(0===r.raw.type&&(r.definitionExpression=t),r.outOfRange=!1,r.visible&&n.log("Drawing progressive layer: "+r.title+" | URL requested: "+r.raw.url+"/where="+t)):(r.visible&&n.log(r.title+" it's visible, but is out of range"),r.outOfRange=!0))})},l=function(e){if(n.log("Changing UI elements..."),e.environment.atmosphereEnabled=a.global.options.atmosphere.enable,e.environment.atmosphere.quality=a.global.options.atmosphere.quality,a.global.options.search.enable){var r=a.constructors.utils.Search,t=new r({view:e});e.ui.add(t,{position:a.global.options.search.position,index:a.global.options.search.index})}e.ui.remove(["zoom","compass","navigation-toggle"])};r.light=function(e){var r=e.cameraTracking,t=e.date,o=a.global.view;""!==r&&void 0!==r&&(n.log("Changing light camera tracking to: "+r),o.environment.lighting.cameraTrackingEnabled=r),"now"===t&&(n.log("Changing light date to: "+t),o.environment.lighting.date=Date.now()),""!==t&&void 0!==t||(o.environment.lighting.date=new Date("Jul 15 2017 12:00:00"),n.log("Changing light date to: default - Jul 15 2017 12:00:00"))},r.newPosition=function(e){var r=e.extent,t=e.coordinates,o=e.scale,i=e.camera;if(void 0!==r||void 0!==t||void 0!==o||void 0!==i){var s=a.global.view,l=a.constructors.utils.Extent,c=void 0;r&&(c=new l({xmax:r.xmax||"",xmin:r.xmin||"",ymax:r.ymax||"",ymin:r.ymin||"",spatialReference:{wkid:r.spatialReference?r.spatialReference.wkid:""}})),s.goTo({target:r&&c?c:"",center:t&&t.longitude&&t.latitude?[t.longitude,t.latitude]:"",scale:o||"",tilt:i&&i.tilt?i.tilt:"",heading:i&&i.heading?i.heading:"",position:i&&i.position?i.position:""}),n.log("Changing map position...")}else n.error("You need set a new position formed by a pair of coordinates, a new scale and new camera positions")},r.changeBasemap=function(e){if(e){a.global.map.basemap=e,n.log("Change basemap...")}else n.error("You need set a new basemap")}},function(e,r,t){"use strict";function o(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}Object.defineProperty(r,"__esModule",{value:!0}),r.start=r.options=void 0;var n=t(7),a=o(n),i=t(1),s=o(i),l=t(3),c=t(0),u=(r.options=function(e){e?(e.cdn||s.warn("You not set any ESRI CDN. Usign default: "+c.global.options.cdn),e.element||s.fatal("You need pass an valid DOM element"),e.scale||s.warn("You not set scale. Usign default scale: "+c.global.options.scale),e.center?(e.center.longitude||s.warn("You not set intial longitude. Usign default: "+c.global.options.center.longitude),e.center.latitude||s.warn("You not set intial latitude. Usign default: "+c.global.options.center.latitude)):s.warn("You not set the map center. Usign defaults | longitude: "+c.global.options.center.longitude+", latitude: "+c.global.options.center.latitude),e.basemap||s.warn("You not set initial basemap. Usign default: "+c.global.options.basemap),!0===e.stars||!1===e.stars||s.warn("You not set if map usign stars. Usign default: "+c.global.options.stars),e.atmosphere?(!0===e.atmosphere.enable||!1===e.atmosphere.enable||s.warn("You not set if map usign atmosphere efect. Usign default: "+c.global.options.atmosphere.enable),e.atmosphere.quality||s.warn("You not set atmosphere quality. Usign default: "+c.global.options.atmosphere.quality)):s.warn("You not set the atmosphere options. Usign defaults | enable: "+c.global.options.atmosphere.enable+", quality: "+c.global.options.atmosphere.quality),!0===e.watcher||!1===e.watcher||s.warn("You not set if map usign watcher to refresh the layers. Usign default: "+c.global.options.watcher),e.light?(!0===e.light.cameraTracking||!1===e.light.cameraTracking||s.warn("You not set the camera tracking options. Usign default: "+c.global.options.light.cameraTracking),""===e.light.date||void 0===e.light.date||s.warn("You not set a date to view light position.")):s.warn("You not set the light options. Usign default for camera tracking: "+c.global.options.light.cameraTracking),e.search?(!0===e.search.enable||!1===e.search.enable||s.warn("You not set Search. Usign default: "+c.global.options.search.enable),e.search.position||s.warn("You not set Search position. Usign default: "+c.global.options.search.position),e.search.index||s.warn("You not set Search index. Usign default: "+c.global.options.search.index)):s.warn("You not set the search options. Usign defaults | enable: "+c.global.options.search.enable+", position: "+c.global.options.search.position+", index: "+c.global.options.search.index),e.cors&&e.cors.length>0||s.warn("You not set any URL to enable CORS requests"),e.proxy||s.warn("You not set any URL to proxy your requests"),c.global.options={cdn:""!==e.cdn&&void 0!==e.cdn?e.cdn:c.global.options.cdn,element:e.element,scale:""!==e.scale&&void 0!==e.scale?e.scale:c.global.options.scale,center:{longitude:e.center&&""!==e.center.longitude&&void 0!==e.center.longitude?e.center.longitude:c.global.options.center.longitude,latitude:e.center&&""!==e.center.latitude&&void 0!==e.center.latitude?e.center.latitude:c.global.options.center.latitude},basemap:""!==e.basemap&&void 0!==e.basemap?e.basemap:c.global.options.basemap,stars:""!==e.stars&&void 0!==e.stars?e.stars:c.global.options.stars,atmosphere:{enable:e.atmosphere&&""!==e.atmosphere.enable&&void 0!==e.atmosphere.enable?e.atmosphere.enable:c.global.options.atmosphere.enable,quality:e.atmosphere&&""!==e.atmosphere.quality&&void 0!==e.atmosphere.quality?e.atmosphere.quality:c.global.options.atmosphere.quality},watcher:""!==e.watcher&&void 0!==e.watcher?e.watcher:c.global.options.watcher,light:{cameraTracking:e.light&&""!==e.light.cameraTracking&&void 0!==e.light.cameraTracking?e.light.cameraTracking:c.global.options.light.cameraTracking,date:e.light&&""!==e.light.date&&void 0!==e.light.date?e.light.date:c.global.options.light.date},search:{enable:e.search&&""!==e.search.enable&&void 0!==e.search.enable?e.search.enable:c.global.options.search.enable,position:e.search&&""!==e.search.position&&void 0!==e.search.position?e.search.position:c.global.options.search.position,index:e.search&&""!==e.search.index&&void 0!==e.search.index?e.search.index:c.global.options.search.index},cors:""!==e.cors&&void 0!==e.cors?e.cors:"",proxy:""!==e.proxy&&void 0!==e.proxy?e.proxy:""},c.global.loaded=!0,s.log("Ready to start!")):s.fatal("You need pass some informations to describe your map")},r.start=function(){return new Promise(function(e,r){var t=c.global.options.cdn;void 0!==t&&c.global.loaded?a.isLoaded()?(s.log("Waiting ESRI server..."),u(e,r)):a.bootstrap(function(t){t&&s.error(t),s.log("Waiting ESRI server..."),u(e,r)},{url:t}):(s.fatal("Fatal error! You must provider an CDN."),r())})},function(e,r){c.global.loaded?a.dojoRequire(["esri/config","esri/Map","esri/Graphic","esri/Camera","esri/WebScene","esri/request","esri/Color","esri/views/SceneView","esri/views/3d/externalRenderers","esri/layers/FeatureLayer","esri/layers/TileLayer","esri/layers/GraphicsLayer","esri/layers/PointCloudLayer","esri/layers/SceneLayer","esri/layers/support/LabelClass","esri/core/watchUtils","esri/core/Collection","esri/core/declare","esri/core/lang","esri/renderers/UniqueValueRenderer","esri/renderers/ClassBreaksRenderer","esri/renderers/SimpleRenderer","esri/renderers/support/jsonUtils","esri/renderers/PointCloudUniqueValueRenderer","esri/renderers/PointCloudRGBRenderer","esri/renderers/PointCloudStretchRenderer","esri/renderers/PointCloudClassBreaksRenderer","esri/renderers/smartMapping/creators/color","esri/symbols/ExtrudeSymbol3DLayer","esri/symbols/PolygonSymbol3D","esri/symbols/SimpleMarkerSymbol","esri/symbols/PictureMarkerSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/SimpleFillSymbol","esri/symbols/PointSymbol3D","esri/symbols/ObjectSymbol3DLayer","esri/symbols/MeshSymbol3D","esri/symbols/FillSymbol3DLayer","esri/symbols/LineSymbol3D","esri/symbols/PathSymbol3DLayer","esri/symbols/TextSymbol","esri/symbols/LabelSymbol3D","esri/symbols/TextSymbol3DLayer","esri/geometry/Geometry","esri/geometry/Point","esri/geometry/Extent","esri/geometry/SpatialReference","esri/geometry/geometryEngine","esri/geometry/support/webMercatorUtils","esri/tasks/QueryTask","esri/tasks/support/Query","esri/widgets/Search","esri/widgets/ColorSlider","esri/widgets/Legend","dojo/promise/all","dojo/on","dojo/query","dojo/domReady!"],function(t,o,n,a,i,u,p,g,m,y,b,f,h,v,w,x,S,L,R,C,P,j,U,Y,O,q,T,E,k,D,M,_,G,A,V,F,I,B,W,z,J,N,Q,H,K,X,Z,$,ee,re,te,oe,ne,ae,ie,se,le){c.global.options.cors&&c.global.options.cors.forEach(function(e){t.request.corsEnabledServers.push(e)}),t.request.proxyUrl=c.global.options.proxy||"",c.constructors.Map=o,c.constructors.SceneView=g,c.constructors.WebScene=i,c.constructors.externalRenderers=m,c.constructors.layer.FeatureLayer=y,c.constructors.layer.TileLayer=b,c.constructors.layer.GraphicsLayer=f,c.constructors.layer.PointCloudLayer=h,c.constructors.layer.SceneLayer=v,c.constructors.layer.LabelClass=w,c.constructors.utils.watchUtils=x,c.constructors.utils.Search=oe,c.constructors.utils.ColorSlider=ne,c.constructors.utils.Legend=ae,c.constructors.utils.jsonUtils=U,c.constructors.utils.Extent=X,c.constructors.utils.SpatialReference=Z,c.constructors.utils.geometryEngine=$,c.constructors.utils.webMercatorUtils=ee,c.constructors.utils.Camera=a,c.constructors.utils.Graphic=n,c.constructors.utils.esriRequest=u,c.constructors.utils.Color=p,c.constructors.utils.declare=L,c.constructors.utils.lang=R,c.constructors.utils.QueryTask=re,c.constructors.utils.Query=te,c.constructors.renderer.UniqueValueRenderer=C,c.constructors.renderer.ClassBreaksRenderer=P,c.constructors.renderer.ExtrudeSymbol3DLayer=k,c.constructors.renderer.PolygonSymbol3D=D,c.constructors.renderer.SimpleRenderer=j,c.constructors.renderer.SimpleMarkerSymbol=M,c.constructors.renderer.PictureMarkerSymbol=_,c.constructors.renderer.SimpleLineSymbol=G,c.constructors.renderer.SimpleFillSymbol=A,c.constructors.renderer.Point=K,c.constructors.renderer.PointSymbol3D=V,c.constructors.renderer.ObjectSymbol3DLayer=F,c.constructors.renderer.MeshSymbol3D=I,c.constructors.renderer.FillSymbol3DLayer=B,c.constructors.renderer.LineSymbol3D=W,c.constructors.renderer.PathSymbol3DLayer=z,c.constructors.renderer.TextSymbol=J,c.constructors.renderer.LabelSymbol3D=N,c.constructors.renderer.TextSymbol3DLayer=Q,c.constructors.renderer.PointCloudUniqueValueRenderer=Y,c.constructors.renderer.PointCloudRGBRenderer=O,c.constructors.renderer.PointCloudStretchRenderer=q,c.constructors.renderer.PointCloudClassBreaksRenderer=T,c.constructors.renderer.colorRendererCreator=E,c.constructors.dojo.on=se,c.constructors.dojo.all=ie,c.constructors.dojo.query=le,c.constructors.Map&&c.constructors.SceneView?(s.log("All constructorss created!"),d(c.constructors.Map,c.global.options.basemap).then(function(e){return c.global.map=e,c.global.map}).then(function(r){(0,l.createView)(r,c.constructors.SceneView,c.global.options).then(function(r){c.global.view=r,e()})})):(s.error("Error during creating the necessary constructors... Try again."),r())}):(s.fatal("Fatal error! You need set some map options."),r())}),d=function(e,r){s.log("Creating map...");var t=new e({basemap:r,ground:"world-elevation"});return Promise.resolve(t)}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.addGraphicSymbol=r.addGraphicLayer=void 0;var o=t(1),n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(o),a=t(0),i=t(2);r.addGraphicLayer=function(e){var r=e.info,t=a.global.map,o=a.constructors.layer.GraphicsLayer,i=""!==r.id&&void 0!==r.id?r.id:"[ArcE]Graph",s=new o({raw:{id:i}});t.add(s),n.log("Adding "+i+" as a Graphic Layer on map...")},r.addGraphicSymbol=function(e){var r=e.layer,t=e.popupTemplate,o=e.symbol,s=e.point,l=e.text,c=a.constructors.renderer.PointSymbol3D,u=a.constructors.renderer.ObjectSymbol3DLayer,d=a.constructors.renderer.Point,p=a.constructors.renderer.TextSymbol,g=a.constructors.utils.Graphic,m=(0,i.find)(r.id||""),y=new c({symbolLayers:[new u({width:void 0!==o?o.width:null,height:void 0!==o?o.height:null,resource:{primitive:void 0!==o?o.primitive:null},material:{color:void 0!==o?o.color:null}})]}),b=new d({x:s.x,y:s.y,z:s.z,latitude:s.latitude,longitude:s.longitude}),f=new p({color:void 0!==l?l.color:null,text:void 0!==l?l.content:null,font:{size:void 0!==l?l.size:null,family:void 0!==l?l.font:null}}),h=new g({geometry:b,symbol:void 0!==o?y:void 0!==l?f:null,popupTemplate:{}});t&&(t.title&&(h.popupTemplate.title=t.title),t.content&&(h.popupTemplate.content=t.content)),m?m.graphics.add(h):n.error("Can't find layer: "+r+" in map. You already added this layer?")}},function(e,r,t){"use strict";function o(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}var n=t(4),a=o(n),i=t(3),s=o(i),l=t(2),c=o(l),u=t(5),d=o(u),p=t(0);e.exports={map:a,view:s,layers:c,utils:d,obj:{get map(){return p.global.map},get view(){return p.global.view},get constructors(){return p.constructors}}}},function(e,r,t){"use strict";function o(){return document.querySelector("script[data-esri-loader]")}function n(){return void 0!==window.require&&o()}function a(e,r){if(void 0===r&&(r={}),r.url||(r.url="https://js.arcgis.com/4.3/"),o())return void e(new Error("The ArcGIS API for JavaScript is already loaded."));var t=document.createElement("script");t.type="text/javascript",t.src=r.url,t.dataset.esriLoader="loading",t.onload=function(){t.dataset.esriLoader="loaded";var r=window.require;e&&e(null,r)},document.body.appendChild(t)}function i(e,r){if(n())window.require(e,r);else{var t=o();if(!t)throw new Error("The ArcGIS API for JavaScript has not been loaded. You must first call esriLoader.bootstrap()");var a=function(){window.require(e,r),t.removeEventListener("load",a,!1)};t.addEventListener("load",a)}}Object.defineProperty(r,"__esModule",{value:!0}),r.isLoaded=n,r.bootstrap=a,r.dojoRequire=i,r.default={isLoaded:n,bootstrap:a,dojoRequire:i}}]);
//# sourceMappingURL=arceasy.min.js.map