module.exports=function(e){function r(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,r),a.l=!0,a.exports}var t={};return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=6)}([function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.prefix="ArcEasy",r.global={map:{},view:{},options:{cdn:"https://js.arcgis.com/4.3/",element:"",scale:25e6,center:{longitude:-13.78,latitude:-52.17},basemap:"streets",stars:!0,atmosphere:{enable:!0,quality:"low"},watcher:!0,light:{cameraTracking:!0},search:{enable:!1,position:"top-left",index:1},cors:[],proxy:""},loaded:!1},r.constructors={layer:{},map:{},container:{},view:{},utils:{},renderer:{},dojo:{}},r.templates={renderers:[],symbols:[]}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.warn=r.fatal=r.error=r.log=void 0;var o=t(0),a=0,n=0,i=0,s=0;r.log=function(e,r){var t=void 0!==r?r:"";return a++,console.log(a+" [LOG|"+o.prefix+"] "+e,t)},r.error=function(e,r){var t=void 0!==r?r:"";return n++,console.error(n+" [ERROR|"+o.prefix+"] "+e,t)},r.fatal=function(e){throw i++,new Error(i+" [FATAL|"+o.prefix+"] "+e)},r.warn=function(e,r){var t=void 0!==r?r:"";return s++,console.warn(s+" [WARN|"+o.prefix+"] "+e,t)}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.changeBasemap=r.newPosition=r.light=r.createView=void 0;var o=t(1),a=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(o),n=t(0),i=(r.createView=function(e,r,t){if(n.global.loaded){a.log("Creating View...");var o=new r({container:t.element,map:e,scale:t.scale,center:[t.center.longitude,t.center.latitude],viewingMode:"global",starsEnabled:t.stars,atmosphereEnabled:t.atmosphere.enable});return o.then(function(){a.log("View ready!"),l(o),c({cameraTracking:t.light.cameraTracking,date:t.light.date}),t.watcher&&i(o)}),o}a.fatal("Fatal error! You need set some map options.")},function(e){n.constructors.utils.watchUtils.whenTrue(e,"stationary",function(){a.log("View changed! Getting extent to refreshing layers..."),s(e)})}),s=function(e){var r=n.global.map,t="!xmin="+e.extent.xmin+"!xmax="+e.extent.xmax+"!ymin="+e.extent.ymin+"!ymax="+e.extent.ymax;r.allLayers.map(function(r){void 0!==r.raw&&(e.scale<r.minScale&&e.scale>r.maxScale||0===r.minScale&&0===r.maxScale?(0===r.raw.type&&(r.definitionExpression=t),r.outOfRange=!1,r.visible&&a.log("Drawing layer: "+r.title+" | URL requested: "+r.raw.url+"/where="+t)):(r.visible&&a.log(r.title+" it's visible, but is out of range"),r.outOfRange=!0))})},l=function(e){if(a.log("Changing UI elements..."),e.environment.atmosphereEnabled=n.global.options.atmosphere.enable,e.environment.atmosphere.quality=n.global.options.atmosphere.quality,n.global.options.search.enable){var r=n.constructors.utils.Search,t=new r({view:e});e.ui.add(t,{position:n.global.options.search.position,index:n.global.options.search.index})}e.ui.remove(["zoom","compass","navigation-toggle"])},c=r.light=function(e){var r=e.cameraTracking,t=e.date,o=n.global.view;""!==r&&void 0!==r&&(a.log("Changing light camera tracking to: "+r),o.environment.lighting.cameraTrackingEnabled=r),"now"===t&&(a.log("Changing light date to: "+t),o.environment.lighting.date=Date.now()),""!==t&&void 0!==t||(o.environment.lighting.date=new Date("Jul 15 2017 12:00:00"),a.log("Changing light date to: default - Jul 15 2017 12:00:00"))};r.newPosition=function(e){var r=e.coordinates,t=e.scale,o=e.camera;if(r&&t&&o){n.global.view.goTo({center:[r.longitude,r.latitude],scale:t,tilt:o.tilt,heading:o.heading}),a.log("Changing map position...")}else a.error("You need set a new position formed by a pair of coordinates, a new scale and new camera positions")},r.changeBasemap=function(e){if(e){n.global.map.basemap=e,a.log("Change basemap...")}else a.error("You need set a new basemap")}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.showAll=r.hideAll=r.setOpacity=r.setVisibility=r.all=r.add=void 0;var o=t(1),a=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(o),n=t(0),i=(r.add=function(e){var r=n.global.map;e.map(function(e,t){if(i(e))return void 0!==e.id&&""!==e.id&&e.id||(a.log("Adding id by index on layer"),e.id=t),e.outOfRange=!0,r.add(s(e))})},function(e){return e?(!e.title||a.log("Validating layer: "+e.title),void 0!==e.title&&""!==e.title&&e.title?(void 0!==e.visible&&""!==e.visible||(e.visible=!0,a.warn("You not set intial visible. Usign default: true")),void 0!==e.definitionExpression&&""!==e.definitionExpression||(e.definitionExpression="",a.warn("You not set intial definitionExpression. Usign default: ''")),void 0===e.type||""===e.type||!1===e.type?(a.fatal("You need provide a layer type (0 = FeatureLayer, 1 = TileLayer)"),!1):!(void 0===e.url||""===e.url||!e.url)||(a.fatal("You need provide an URL layer"),!1)):(a.fatal("You need provide a layer title"),!1)):(a.fatal("You need pass some informations to describe your layer"),!1)}),s=function(e){var r=n.constructors.layer,t=n.constructors.utils,o=t.jsonUtils,i=void 0,s=void 0;0===e.type?(s="Feature Layer",i=r.FeatureLayer):1===e.type&&(s="Tile Layer",i=r.TileLayer);var l=new i({id:e.id,title:e.title,url:e.url,definitionExpression:e.definitionExpression,raw:e,visible:e.visible});return a.log("Adding a "+s+" on map: "+l.raw.title+" | Visibility: "+l.raw.visible+" | URL: "+l.raw.url),l.raw.renderer&&(a.log("Applying renderer..."),l.renderer=o.fromJSON(l.raw.renderer)),l.then(function(){a.log("Layer "+l.title+" ready!"),1===l.raw.type&&(l.minScale=null!==l.raw.minScale&&0!==parseInt(l.raw.minScale)?l.raw.minScale:0,l.maxScale=null!==l.raw.maxScale&&parseInt(l.raw.maxScale)?l.raw.maxScale:0)}),l},l=function(e){return n.global.map.allLayers.find(function(r){if(void 0!==r.raw&&(r.raw.title===e||r.raw.id===e))return r})},c=(r.all=function(){return n.global.map.allLayers._items.filter(function(e){if(void 0!==e.raw)return!0})},r.setVisibility=function(e,r){var t=l(e);t?(t.visible=r,a.log("Change visibility of layer: "+e+" to: "+r)):a.error("Can't find layer: "+e+" in map. You already added this layer?")},r.setOpacity=function(e,r){var t=l(e);t?(t.opacity=r/100,a.log("Change opacity of layer: "+e+" to: "+r)):a.error("Can't find layer: "+e+" in map. You already added this layer?")},function(e){n.global.map.allLayers.map(function(r){void 0!==r.raw&&r.visible===!e&&(r.visible=e,a.log("Change visibility of layer: "+r.raw.title+" to: "+e))})});r.hideAll=function(){c(!1)},r.showAll=function(){c(!0)}},function(e,r,t){"use strict";function o(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}Object.defineProperty(r,"__esModule",{value:!0}),r.start=r.options=void 0;var a=t(7),n=o(a),i=t(1),s=o(i),l=t(2),c=t(0),u=(r.options=function(e){e?(e.cdn||s.warn("You not set any ESRI CDN. Usign default: "+c.global.options.cdn),e.element||s.fatal("You need pass an valid DOM element"),e.scale||s.warn("You not set scale. Usign default scale: "+c.global.options.scale),e.center?(e.center.longitude||s.warn("You not set intial longitude. Usign default: "+c.global.options.center.longitude),e.center.latitude||s.warn("You not set intial latitude. Usign default: "+c.global.options.center.latitude)):s.warn("You not set the map center. Usign defaults | longitude: "+c.global.options.center.longitude+", latitude: "+c.global.options.center.latitude),e.basemap||s.warn("You not set initial basemap. Usign default: "+c.global.options.basemap),!0===e.stars||!1===e.stars||s.warn("You not set if map usign stars. Usign default: "+c.global.options.stars),e.atmosphere?(!0===e.atmosphere.enable||!1===e.atmosphere.enable||s.warn("You not set if map usign atmosphere efect. Usign default: "+c.global.options.atmosphere.enable),e.atmosphere.quality||s.warn("You not set atmosphere quality. Usign default: "+c.global.options.atmosphere.quality)):s.warn("You not set the atmosphere options. Usign defaults | enable: "+c.global.options.atmosphere.enable+", quality: "+c.global.options.atmosphere.quality),!0===e.watcher||!1===e.watcher||s.warn("You not set if map usign watcher to refresh the layers. Usign default: "+c.global.options.watcher),e.light?(!0===e.light.cameraTracking||!1===e.light.cameraTracking||s.warn("You not set the camera tracking options. Usign default: "+c.global.options.light.cameraTracking),""===e.light.date||void 0===e.light.date||s.warn("You not set a date to view light position.")):s.warn("You not set the light options. Usign default for camera tracking: "+c.global.options.light.cameraTracking),e.search?(!0===e.search.enable||!1===e.search.enable||s.warn("You not set Search. Usign default: "+c.global.options.search.enable),e.search.position||s.warn("You not set Search position. Usign default: "+c.global.options.search.position),e.search.index||s.warn("You not set Search index. Usign default: "+c.global.options.search.index)):s.warn("You not set the search options. Usign defaults | enable: "+c.global.options.search.enable+", position: "+c.global.options.search.position+", index: "+c.global.options.search.index),e.cors&&e.cors.length>0||s.warn("You not set any URL to enable CORS requests"),e.proxy||s.warn("You not set any URL to proxy your requests"),c.global.options={cdn:""!==e.cdn&&void 0!==e.cdn?e.cdn:c.global.options.cdn,element:e.element,scale:""!==e.scale&&void 0!==e.scale?e.scale:c.global.options.scale,center:{longitude:e.center&&""!==e.center.longitude&&void 0!==e.center.longitude?e.center.longitude:c.global.options.center.longitude,latitude:e.center&&""!==e.center.latitude&&void 0!==e.center.latitude?e.center.latitude:c.global.options.center.latitude},basemap:""!==e.basemap&&void 0!==e.basemap?e.basemap:c.global.options.basemap,stars:""!==e.stars&&void 0!==e.stars?e.stars:c.global.options.stars,atmosphere:{enable:e.atmosphere&&""!==e.atmosphere.enable&&void 0!==e.atmosphere.enable?e.atmosphere.enable:c.global.options.atmosphere.enable,quality:e.atmosphere&&""!==e.atmosphere.quality&&void 0!==e.atmosphere.quality?e.atmosphere.quality:c.global.options.atmosphere.quality},watcher:""!==e.watcher&&void 0!==e.watcher?e.watcher:c.global.options.watcher,light:{cameraTracking:e.light&&""!==e.light.cameraTracking&&void 0!==e.light.cameraTracking?e.light.cameraTracking:c.global.options.light.cameraTracking,date:e.light&&""!==e.light.date&&void 0!==e.light.date?e.light.date:c.global.options.light.date},search:{enable:e.search&&""!==e.search.enable&&void 0!==e.search.enable?e.search.enable:c.global.options.search.enable,position:e.search&&""!==e.search.position&&void 0!==e.search.position?e.search.position:c.global.options.search.position,index:e.search&&""!==e.search.index&&void 0!==e.search.index?e.search.index:c.global.options.search.index},cors:""!==e.cors&&void 0!==e.cors?e.cors:"",proxy:""!==e.proxy&&void 0!==e.proxy?e.proxy:""},c.global.loaded=!0,s.log("Ready to start!")):s.fatal("You need pass some informations to describe your map")},r.start=function(){return new Promise(function(e,r){var t=c.global.options.cdn;void 0!==t&&c.global.loaded?n.isLoaded()?(s.log("Waiting ESRI server..."),u(e,r)):n.bootstrap(function(t){t&&s.error(t),s.log("Waiting ESRI server..."),u(e,r)},{url:t}):(s.fatal("Fatal error! You must provider an CDN."),r())})},function(e,r){c.global.loaded?n.dojoRequire(["esri/config","esri/Map","esri/Graphic","esri/Camera","esri/views/SceneView","esri/views/3d/externalRenderers","esri/layers/FeatureLayer","esri/layers/TileLayer","esri/layers/GraphicsLayer","esri/core/watchUtils","esri/core/Collection","esri/core/declare","esri/renderers/UniqueValueRenderer","esri/renderers/ClassBreaksRenderer","esri/renderers/SimpleRenderer","esri/renderers/support/jsonUtils","esri/symbols/ExtrudeSymbol3DLayer","esri/symbols/PolygonSymbol3D","esri/symbols/SimpleMarkerSymbol","esri/symbols/PictureMarkerSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/SimpleFillSymbol","esri/symbols/PointSymbol3D","esri/symbols/ObjectSymbol3DLayer","esri/geometry/Geometry","esri/geometry/Point","esri/geometry/Extent","esri/geometry/SpatialReference","esri/tasks/QueryTask","esri/tasks/support/Query","esri/widgets/Search","esri/request","dojo/promise/all","dojo/on","dojo/domReady!"],function(t,o,a,n,i,u,p,g,m,b,f,h,y,v,w,x,S,L,j,O,Y,U,R,E,q,P,k,T,_,M,C,A,G,D){c.global.options.cors&&c.global.options.cors.forEach(function(e){t.request.corsEnabledServers.push(e)}),t.request.proxyUrl=c.global.options.proxy||"",c.constructors.Map=o,c.constructors.SceneView=i,c.constructors.externalRenderers=u,c.constructors.layer.FeatureLayer=p,c.constructors.layer.TileLayer=g,c.constructors.layer.GraphicsLayer=m,c.constructors.utils.watchUtils=b,c.constructors.utils.Search=C,c.constructors.utils.jsonUtils=x,c.constructors.utils.Extent=k,c.constructors.utils.SpatialReference=T,c.constructors.utils.Camera=n,c.constructors.utils.esriRequest=A,c.constructors.utils.declare=h,c.constructors.utils.QueryTask=_,c.constructors.utils.Query=M,c.constructors.renderer.UniqueValueRenderer=y,c.constructors.renderer.ClassBreaksRenderer=v,c.constructors.renderer.ExtrudeSymbol3DLayer=S,c.constructors.renderer.PolygonSymbol3D=L,c.constructors.renderer.SimpleRenderer=w,c.constructors.renderer.SimpleMarkerSymbol=j,c.constructors.renderer.PictureMarkerSymbol=O,c.constructors.renderer.SimpleLineSymbol=Y,c.constructors.renderer.SimpleFillSymbol=U,c.constructors.renderer.Graphic=a,c.constructors.renderer.Point=P,c.constructors.renderer.PointSymbol3D=R,c.constructors.renderer.ObjectSymbol3DLayer=E,c.constructors.dojo.on=D,c.constructors.dojo.all=G,c.constructors.Map&&c.constructors.SceneView?(s.log("All constructorss created!"),d(c.constructors.Map,c.global.options.basemap).then(function(e){return c.global.map=e,c.global.map}).then(function(r){(0,l.createView)(r,c.constructors.SceneView,c.global.options).then(function(r){c.global.view=r,e()})})):(s.error("Error during creating the necessary constructors... Try again."),r())}):(s.fatal("Fatal error! You need set some map options."),r())}),d=function(e,r){s.log("Creating map...");var t=new e({basemap:r,ground:"world-elevation"});return Promise.resolve(t)}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.hideGraphicLayers=r.addGraphicLayer=void 0;var o=t(1),a=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(o),n=t(0);r.addGraphicLayer=function(e,r){var t=n.global.map,o=n.constructors.layer.GraphicsLayer,i=n.constructors.renderer.PointSymbol3D,s=n.constructors.renderer.ObjectSymbol3DLayer,l=n.constructors.renderer.Point,c=n.constructors.renderer.Graphic,u=new o({id:""!==e.id||void 0!==e.id?e.id:"[ArcE]Graph"}),d=new i({symbolLayers:[new s({width:e.width,height:e.height,resource:{primitive:e.primitive},material:{color:e.color}})]}),p=new l({x:r.x,y:r.y,z:r.z}),g=new c({geometry:p,symbol:d});t.add(u),u.add(g),a.log("Adding a Graphic Layer on map...")},r.hideGraphicLayers=function(){n.global.map.allLayers.map(function(e,r,t){"[ArcE]Graph"===e.id&&!0===e.visible&&(e.visible=!1,a.log("Hiding Graphic Layer..."))})}},function(e,r,t){"use strict";function o(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}var a=t(4),n=o(a),i=t(2),s=o(i),l=t(3),c=o(l),u=t(5),d=o(u),p=t(0);e.exports={map:n,view:s,layers:c,utils:d,obj:{get map(){return p.global.map},get view(){return p.global.view},get constructors(){return p.constructors}}}},function(e,r,t){"use strict";function o(){return document.querySelector("script[data-esri-loader]")}function a(){return void 0!==window.require&&o()}function n(e,r){if(void 0===r&&(r={}),r.url||(r.url="https://js.arcgis.com/4.3/"),o())return void e(new Error("The ArcGIS API for JavaScript is already loaded."));var t=document.createElement("script");t.type="text/javascript",t.src=r.url,t.dataset.esriLoader="loading",t.onload=function(){t.dataset.esriLoader="loaded";var r=window.require;e&&e(null,r)},document.body.appendChild(t)}function i(e,r){if(a())window.require(e,r);else{var t=o();if(!t)throw new Error("The ArcGIS API for JavaScript has not been loaded. You must first call esriLoader.bootstrap()");var n=function(){window.require(e,r),t.removeEventListener("load",n,!1)};t.addEventListener("load",n)}}Object.defineProperty(r,"__esModule",{value:!0}),r.isLoaded=a,r.bootstrap=n,r.dojoRequire=i,r.default={isLoaded:a,bootstrap:n,dojoRequire:i}}]);
//# sourceMappingURL=arceasy.min.js.map