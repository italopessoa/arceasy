module.exports=function(e){var r={};function t(a){if(r[a]){return r[a].exports}var o=r[a]={i:a,l:false,exports:{}};e[a].call(o.exports,o,o.exports,t);o.l=true;return o.exports}t.m=e;t.c=r;t.i=function(e){return e};t.d=function(e,r,a){if(!t.o(e,r)){Object.defineProperty(e,r,{configurable:false,enumerable:true,get:a})}};t.n=function(e){var r=e&&e.__esModule?function r(){return e["default"]}:function r(){return e};t.d(r,"a",r);return r};t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)};t.p="";return t(t.s=5)}([function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});var a=r.prefix="ArcEasy";var o=r.global={map:"",view:"",options:{cdn:"https://js.arcgis.com/4.3/",element:"",scale:25e6,center:{longitude:-13.78,latitude:-52.17},basemap:"streets",stars:true,atmosphere:{enable:true,quality:"low"},search:{enable:false,position:"top-left",index:1},cors:"",proxy:""},loaded:false};var n=r.constructors={layer:{FeatureLayer:"",TileLayer:""},map:"",container:"",view:"",utils:{watchUtils:"",Search:"",jsonUtils:"",Extent:""},renderer:{UniqueValueRenderer:"",ClassBreaksRenderer:"",ExtrudeSymbol3DLayer:"",PolygonSymbol3D:"",SimpleRenderer:"",SimpleMarkerSymbol:"",PictureMarkerSymbol:"",SimpleLineSymbol:"",SimpleFillSymbol:""}};var i=r.templates={renderers:[],symbols:[]}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.warn=r.fatal=r.error=r.log=undefined;var a=t(0);var o=0;var n=0;var i=0;var l=0;var s=r.log=function e(r,t){var n=t!==undefined?t:"";o++;return console.log(o+" [LOG|"+a.prefix+"] "+r,n)};var u=r.error=function e(r,t){var o=t!==undefined?t:"";n++;return console.error(n+" [ERROR|"+a.prefix+"] "+r,o)};var c=r.fatal=function e(r){i++;throw new Error(i+" [FATAL|"+a.prefix+"] "+r)};var d=r.warn=function e(r,t){var o=t!==undefined?t:"";l++;return console.warn(l+" [WARN|"+a.prefix+"] "+r,o)}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.changeBasemap=r.newPosition=r.createView=undefined;var a=t(1);var o=i(a);var n=t(0);function i(e){if(e&&e.__esModule){return e}else{var r={};if(e!=null){for(var t in e){if(Object.prototype.hasOwnProperty.call(e,t))r[t]=e[t]}}r.default=e;return r}}var l=r.createView=function e(r,t,a){if(n.global.loaded){o.log("Creating View...");var i=new t({container:a.element,map:r,scale:a.scale,center:[a.center.longitude,a.center.latitude],viewingMode:"global",starsEnabled:a.stars,atmosphereEnabled:a.atmosphere.enable});i.then(function(){o.log("View ready!");u(i);s(r,i)});return i}else{o.fatal("Fatal error! You need set some map options.")}};var s=function e(r,t){var a=n.constructors.utils.watchUtils;a.whenTrue(t,"stationary",function(){if(t.extent){var e="!xmin="+t.extent.xmin+"!xmax="+t.extent.xmax+"!ymin="+t.extent.ymin+"!ymax="+t.extent.ymax;o.log("View changed! Mapping all layers...");console.log(t.extent.center.latitude,t.extent.center.longitude,t.scale);r.allLayers.map(function(r){if((t.scale<r.minScale&&t.scale>r.maxScale||r.minScale===0&&r.maxScale===0)&&r.raw!==undefined&&r.visible){if(r.raw.type===0){o.log("Getting extent to request "+r.title);o.log("Requesting to server: "+r.raw.url+"/where="+e);r.definitionExpression=e}o.log("Drawing layer: "+r.title)}})}})};var u=function e(r){o.log("Changing UI elements...");r.environment.atmosphere.quality=n.global.options.atmosphere.quality;if(n.global.options.search.enable){var t=n.constructors.utils.Search;var a=new t({view:r});r.ui.add(a,{position:n.global.options.search.position,index:n.global.options.search.index})}r.ui.remove(["zoom","compass","navigation-toggle"])};var c=r.newPosition=function e(r){var t=r.coordinates,a=r.scale,i=r.camera;if(t&&a&&i){var l=n.global.view;l.goTo({center:[t.longitude,t.latitude],scale:a,tilt:i.tilt,heading:i.heading});o.log("Changing map position...")}else{o.error("You need set a new position formed by a pair of coordinates, a new scale and new camera positions")}};var d=r.changeBasemap=function e(r){if(r){var t=n.global.map;t.basemap=r;o.log("Change basemap...")}else{o.error("You need set a new basemap")}}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.showAll=r.hideAll=r.setOpacity=r.setVisibility=r.add=undefined;var a=t(1);var o=i(a);var n=t(0);function i(e){if(e&&e.__esModule){return e}else{var r={};if(e!=null){for(var t in e){if(Object.prototype.hasOwnProperty.call(e,t))r[t]=e[t]}}r.default=e;return r}}var l=r.add=function e(r){r.map(function(e,r){if(s(e)){o.log("Adding id by index on layer");e.id=r;n.global.map.add(u(e))}})};var s=function e(r){if(r){if(r.title===undefined||r.title===""||!r.title){o.fatal("You need provide a layer title");return false}if(r.visible===undefined||r.visible===""){r.visible=true;o.warn("You not set intial visible. Usign default: true")}if(r.definitionExpression===undefined||r.definitionExpression===""){r.definitionExpression="";o.warn("You not set intial definitionExpression. Usign default: ''")}if(r.type===undefined||r.type===""||!r.type){o.fatal("You need provide a layer type (0 = FeatureLayer, 1 = TileLayer)");return false}if(r.url===undefined||r.url===""||!r.url){o.fatal("You need provide an URL layer");return false}return true}else{o.fatal("You need pass some informations to describe your layer");return false}};var u=function e(r){var t=n.constructors.layer;var a=n.constructors.utils;var i=a.jsonUtils;var l=void 0;if(r.type===0){o.log("Creating new Feature Layer...");l=t.FeatureLayer}else if(r.type===1){o.log("Creating new Tile Layer...");l=t.TileLayer}o.log("Adding layer on map: "+r.title+" | Initial visibility: "+r.visible);var s=new l({id:r.id,url:r.url,definitionExpression:r.definitionExpression,raw:r,visible:r.visible});o.log("Loading layer from: "+r.url);if(s.raw.renderer){o.log("Applying renderer...");s.renderer=i.fromJSON(s.raw.renderer)}s.then(function(){o.log("Layer "+s.title+" ready!");o.log("View waiting changes...");if(s.raw.type===1){s.minScale=s.raw.minScale!==null?s.raw.minScale:0;s.maxScale=s.raw.maxScale!==null?s.raw.maxScale:0;o.log("minScale: "+s.minScale+" and maxScale: "+s.maxScale+" defined manually")}});return s};var c=function e(r){var t=n.global.map;return t.allLayers.find(function(e){if(e.raw!==undefined){if(e.raw.title===r||e.raw.id===r){return e}}})};var d=r.setVisibility=function e(r,t){var a=c(r);if(a){a.visible=t;o.log("Change visibility of layer: "+r+" to: "+t)}else{o.error("Can't find layer: "+r+" in map. You already added this layer?")}};var p=r.setOpacity=function e(r,t){var a=c(r);if(a){a.opacity=t/100;o.log("Change opacity of layer: "+r+" to: "+t)}else{o.error("Can't find layer: "+r+" in map. You already added this layer?")}};var f=function e(r){var t=n.global.map;t.allLayers.map(function(e){if(e.raw!==undefined){if(e.visible===!r){e.visible=r;o.log("Change visibility of layer: "+e.raw.title+" to: "+r)}}})};var m=r.hideAll=function e(){f(false)};var y=r.showAll=function e(){f(true)}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.start=r.options=undefined;var a=t(6);var o=u(a);var n=t(1);var i=u(n);var l=t(2);var s=t(0);function u(e){if(e&&e.__esModule){return e}else{var r={};if(e!=null){for(var t in e){if(Object.prototype.hasOwnProperty.call(e,t))r[t]=e[t]}}r.default=e;return r}}var c=r.options=function e(r){if(r){r.cdn||i.warn("You not set any ESRI CDN. Usign default: "+s.global.options.cdn);r.element||i.fatal("You need pass an valid DOM element");r.scale||i.warn("You not set scale. Usign default scale: "+s.global.options.scale);if(r.center){r.center.longitude||i.warn("You not set intial longitude. Usign default: "+s.global.options.center.longitude);r.center.latitude||i.warn("You not set intial latitude. Usign default: "+s.global.options.center.latitude)}else{i.warn("You not set the map center. Usign defaults | longitude: "+s.global.options.center.longitude+", latitude: "+s.global.options.center.latitude)}r.basemap||i.warn("You not set initial basemap. Usign default: "+s.global.options.basemap);r.stars===true||r.stars===false||i.warn("You not set if map usign stars. Usign default: "+s.global.options.stars);if(r.atmosphere){r.atmosphere.enable===true||r.atmosphere.enable===false||i.warn("You not set if map usign atmosphere efect. Usign default: "+s.global.options.atmosphere.enable);r.atmosphere.quality||i.warn("You not set atmosphere quality. Usign default: "+s.global.options.atmosphere.quality)}else{i.warn("You not set the atmosphere options. Usign defaults | enable: "+s.global.options.atmosphere.enable+", quality: "+s.global.options.atmosphere.quality)}if(r.search){r.search.enable===true||r.search.enable===false||i.warn("You not set Search. Usign default: "+s.global.options.search.enable);r.search.position||i.warn("You not set Search position. Usign default: "+s.global.options.search.position);r.search.index||i.warn("You not set Search index. Usign default: "+s.global.options.search.index)}else{i.warn("You not set the search options. Usign defaults | enable: "+s.global.options.search.enable+", position: "+s.global.options.search.position+", index: "+s.global.options.search.index)}r.cors&&r.cors.length>0||i.warn("You not set any URL to enable CORS requests");r.proxy||i.warn("You not set any URL to proxy your requests");s.global.options={cdn:r.cdn||s.global.options.cdn,element:r.element,scale:r.scale||s.global.options.scale,center:{longitude:r.center&&r.center.longitude||s.global.options.center.longitude,latitude:r.center&&r.center.latitude||s.global.options.center.latitude},basemap:r.basemap||s.global.options.basemap,stars:r.stars||s.global.options.stars,atmosphere:{enable:r.atmosphere&&r.atmosphere.enable||s.global.options.atmosphere.enable,quality:r.atmosphere&&r.atmosphere.quality||s.global.options.atmosphere.quality},search:{enable:r.search&&r.search.enable||s.global.options.search.enable,position:r.search&&r.search.position||s.global.options.search.position,index:r.search&&r.search.index||s.global.options.search.index},cors:r.cors||"",proxy:r.proxy||""};s.global.loaded=true;i.log("Ready to start!")}else{i.fatal("You need pass some informations to describe your map")}};var d=r.start=function e(){var r=s.global.options.cdn;if(r!==undefined&&s.global.loaded){if(!o.isLoaded()){o.bootstrap(function(e){if(e){i.error(e)}i.log("Waiting ESRI server...");p()},{url:r})}else{i.log("Waiting ESRI server...");p()}}else{i.fatal("Fatal error! You must provider an CDN.")}};var p=function e(){if(s.global.loaded){o.dojoRequire(["esri/config","esri/Map","esri/Graphic","esri/Camera","esri/views/SceneView","esri/layers/FeatureLayer","esri/layers/TileLayer","esri/layers/GraphicsLayer","esri/core/watchUtils","esri/core/Collection","esri/renderers/UniqueValueRenderer","esri/renderers/ClassBreaksRenderer","esri/renderers/SimpleRenderer","esri/renderers/support/jsonUtils","esri/symbols/ExtrudeSymbol3DLayer","esri/symbols/PolygonSymbol3D","esri/symbols/SimpleMarkerSymbol","esri/symbols/PictureMarkerSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/SimpleFillSymbol","esri/symbols/PointSymbol3D","esri/symbols/ObjectSymbol3DLayer","esri/geometry/Geometry","esri/geometry/Point","esri/geometry/Extent","esri/widgets/Search","dojo/on","dojo/domReady!"],function(e,r,t,a,o,n,u,c,d,p,m,y,g,b,v,h,w,S,x,L,U,Y,E,q,j,O,P){s.global.options.cors.forEach(function(r){e.request.corsEnabledServers.push(r)});e.request.proxyUrl=s.global.options.proxy||"";s.constructors.Map=r;s.constructors.SceneView=o;s.constructors.layer.FeatureLayer=n;s.constructors.layer.TileLayer=u;s.constructors.layer.GraphicsLayer=c;s.constructors.utils.watchUtils=d;s.constructors.utils.Search=O;s.constructors.utils.jsonUtils=b;s.constructors.utils.Extent=j;s.constructors.utils.Camera=a;s.constructors.renderer.UniqueValueRenderer=m;s.constructors.renderer.ClassBreaksRenderer=y;s.constructors.renderer.ExtrudeSymbol3DLayer=v;s.constructors.renderer.PolygonSymbol3D=h;s.constructors.renderer.SimpleRenderer=g;s.constructors.renderer.SimpleMarkerSymbol=w;s.constructors.renderer.PictureMarkerSymbol=S;s.constructors.renderer.SimpleLineSymbol=x;s.constructors.renderer.SimpleFillSymbol=L;s.constructors.renderer.Graphic=t;s.constructors.renderer.Point=q;s.constructors.renderer.PointSymbol3D=U;s.constructors.renderer.ObjectSymbol3DLayer=Y;if(s.constructors.Map&&s.constructors.SceneView){i.log("All constructorss created!");s.global.map=f(s.constructors.Map,s.global.options.basemap);s.global.view=(0,l.createView)(s.global.map,s.constructors.SceneView,s.global.options)}else{i.error("Error during creating the necessary constructors... Try again.")}})}else{i.fatal("Fatal error! You need set some map options.")}};var f=function e(r,t){i.log("Creating map...");var a=new r({basemap:t,ground:"world-elevation",layers:[]});return a}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.layers=r.view=r.map=undefined;var a=t(4);var o=u(a);var n=t(2);var i=u(n);var l=t(3);var s=u(l);function u(e){if(e&&e.__esModule){return e}else{var r={};if(e!=null){for(var t in e){if(Object.prototype.hasOwnProperty.call(e,t))r[t]=e[t]}}r.default=e;return r}}r.map=o;r.view=i;r.layers=s},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r["isLoaded"]=o;r["bootstrap"]=n;r["dojoRequire"]=i;function a(){return document.querySelector("script[data-esri-loader]")}function o(){return typeof window["require"]!=="undefined"&&a()}function n(e,r){if(r===void 0){r={}}if(!r.url){r.url="https://js.arcgis.com/4.3/"}if(a()){e(new Error("The ArcGIS API for JavaScript is already loaded."));return}var t=document.createElement("script");t.type="text/javascript";t.src=r.url;t.dataset["esriLoader"]="loading";t.onload=function(){t.dataset["esriLoader"]="loaded";var r=window["require"];if(e){e(null,r)}};document.body.appendChild(t)}function i(e,r){if(o()){window["require"](e,r)}else{var t=a();if(t){var n=function(){window["require"](e,r);t.removeEventListener("load",n,false)};t.addEventListener("load",n)}else{throw new Error("The ArcGIS API for JavaScript has not been loaded. You must first call esriLoader.bootstrap()")}}}r["default"]={isLoaded:o,bootstrap:n,dojoRequire:i}}]);
//# sourceMappingURL=arceasy.min.js.map