module.exports=function(e){function r(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}var o={};return r.m=e,r.c=o,r.i=function(e){return e},r.d=function(e,o,t){r.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:t})},r.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(o,"a",o),o},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=5)}([function(e,r,o){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.prefix="[ArcEasy]",r.global={map:"",view:"",options:{element:"",scale:25e6,center:{longitude:-13.78,latitude:-52.17},basemap:"streets",stars:!0,atmosphere:{enable:!0,quality:"low"},search:{enable:!1,position:"top-left",index:1},cors:"",proxy:""},loaded:!1},r.constructors={layer:{FeatureLayer:"",TileLayer:""},map:"",container:"",view:"",utils:{watchUtils:"",Search:"",jsonUtils:"",Extent:""},renderer:{UniqueValueRenderer:"",ClassBreaksRenderer:"",ExtrudeSymbol3DLayer:"",PolygonSymbol3D:"",SimpleRenderer:"",SimpleMarkerSymbol:"",PictureMarkerSymbol:"",SimpleLineSymbol:"",SimpleFillSymbol:""}},r.templates={renderers:[],symbols:[]}},function(e,r,o){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.warn=r.fatal=r.error=r.log=void 0;var t=o(0),a=0,n=0,i=0,l=0;r.log=function(e,r){var o=void 0!==r?r:"";return a++,console.log(a+" "+t.prefix+" "+e,o)},r.error=function(e,r){var o=void 0!==r?r:"";return n++,console.error(n+" "+t.prefix+" "+e,o)},r.fatal=function(e){throw i++,new Error(i+" "+t.prefix+" "+e)},r.warn=function(e,r){var o=void 0!==r?r:"";return l++,console.warn(l+" "+t.prefix+" "+e,o)}},function(e,r,o){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.changeBasemap=r.newPosition=r.createView=void 0;var t=o(1),a=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r.default=e,r}(t),n=o(0),i=(r.createView=function(e,r,o){if(n.global.loaded){a.log("Creating View...");var t=new r({container:o.element,map:e,scale:o.scale,center:[o.longitude,o.latitude],viewingMode:"global",starsEnabled:o.stars,atmosphereEnabled:o.atmosphere});return t.then(function(){a.log("View ready!"),l(t),i(e,t)}),t}a.fatal("Fatal error! You need set some map options.")},function(e,r){n.constructors.utils.watchUtils.whenTrue(r,"stationary",function(){if(r.extent){var o="!xmin="+r.extent.xmin+"!xmax="+r.extent.xmax+"!ymin="+r.extent.ymin+"!ymax="+r.extent.ymax;a.log("View changed! Mapping all layers..."),console.log(r.extent.center.latitude,r.extent.center.longitude,r.scale),e.allLayers.map(function(e){(r.scale<e.minScale&&r.scale>e.maxScale||0===e.minScale&&0===e.maxScale)&&void 0!==e.raw&&e.visible&&(0===e.raw.type&&(a.log("Getting extent to request "+e.title),a.log("Requesting to server: "+e.raw.url+"/where="+o),e.definitionExpression=o),a.log("Drawing layer: "+e.title))})}})}),l=function(e){if(a.log("Changing UI elements..."),e.environment.atmosphere.quality=n.global.options.atmosphere.quality,n.global.options.search.enable){var r=n.constructors.utils.Search,o=new r({view:e});e.ui.add(o,{position:n.global.options.search.position,index:n.global.options.search.index})}e.ui.remove(["zoom","compass","navigation-toggle"])};r.newPosition=function(e){var r=e.coordinates,o=e.scale,t=e.camera;if(r&&o&&t){n.global.view.goTo({center:[r.longitude,r.latitude],scale:o,tilt:t.tilt,heading:t.heading}),a.log("Changing map position...")}else a.error("You need set a new position formed by a pair of coordinates, a new scale and new camera positions")},r.changeBasemap=function(e){if(e){n.global.map.basemap=e,a.log("Change basemap...")}else a.error("You need set a new basemap")}},function(e,r,o){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.showAll=r.hideAll=r.setOpacity=r.setVisibility=r.add=void 0;var t=o(1),a=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r.default=e,r}(t),n=o(0),i=(r.add=function(e){e.map(function(e,r){i(e)&&(a.log("Adding id by index on layer"),e.id=r,n.global.map.add(l(e)))})},function(e){return e?void 0!==e.title&&""!==e.title&&e.title?(void 0!==e.visible&&""!==e.visible||(e.visible=!0,a.warn("You not set intial visible. Usign default: true")),void 0!==e.definitionExpression&&""!==e.definitionExpression||(e.definitionExpression="",a.warn("You not set intial definitionExpression. Usign default: ''")),void 0!==e.type&&""!==e.type&&e.type?!(void 0===e.url||""===e.url||!e.url)||(a.fatal("You need provide an URL layer"),!1):(a.fatal("You need provide a layer type (0 = FeatureLayer, 1 = TileLayer)"),!1)):(a.fatal("You need provide a layer title"),!1):(a.fatal("You need pass some informations to describe your layer"),!1)}),l=function(e){var r=n.constructors.layer,o=n.constructors.utils,t=o.jsonUtils,i=void 0;0===e.type?(a.log("Creating new Feature Layer..."),i=r.FeatureLayer):1===e.type&&(a.log("Creating new Tile Layer..."),i=r.TileLayer),a.log("Adding layer on map: "+e.title+" | Initial visibility: "+e.visible);var l=new i({id:e.id,url:e.url,definitionExpression:e.definitionExpression,raw:e,visible:e.visible});return a.log("Loading layer from: "+e.url),l.raw.renderer&&(a.log("Applying renderer..."),l.renderer=t.fromJSON(l.raw.renderer)),l.then(function(){a.log("Layer "+l.title+" ready!"),a.log("View waiting changes..."),1===l.raw.type&&(l.minScale=null!==l.raw.minScale?l.raw.minScale:0,l.maxScale=null!==l.raw.maxScale?l.raw.maxScale:0,a.log("minScale: "+l.minScale+" and maxScale: "+l.maxScale+" defined manually"))}),l},s=function(e){return n.global.map.allLayers.find(function(r){if(void 0!==r.raw&&(r.raw.title===e||r.raw.id===e))return r})},u=(r.setVisibility=function(e,r){var o=s(e);o?(o.visible=r,a.log("Change visibility of layer: "+e+" to: "+r)):a.error("Can't find layer: "+e+" in map. You already added this layer?")},r.setOpacity=function(e,r){var o=s(e);o?(o.opacity=r/100,a.log("Change opacity of layer: "+e+" to: "+r)):a.error("Can't find layer: "+e+" in map. You already added this layer?")},function(e){n.global.map.allLayers.map(function(r){void 0!==r.raw&&r.visible===!e&&(r.visible=e,a.log("Change visibility of layer: "+r.raw.title+" to: "+e))})});r.hideAll=function(){u(!1)},r.showAll=function(){u(!0)}},function(e,r,o){"use strict";function t(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r.default=e,r}Object.defineProperty(r,"__esModule",{value:!0}),r.start=r.options=void 0;var a=o(6),n=t(a),i=o(1),l=t(i),s=o(2),u=o(0),c=(r.options=function(e){e?(e.element||l.fatal("You need pass an valid DOM element"),e.scale||l.warn("You not set scale. Usign default scale: "+u.global.options.scale),e.center.longitude||l.warn("You not set intial longitude. Usign default: "+u.global.options.longitude),e.center.latitude||l.warn("You not set intial latitude. Usign default: "+u.global.options.latitude),e.basemap||l.warn("You not set initial basemap. Usign default: "+u.global.options.basemap),e.stars||l.warn("You not set if map usign stars. Usign default: "+u.global.options.stars),e.atmosphere.enable||l.warn("You not set if map usign atmosphere efect. Usign default: "+u.global.options.atmosphere.enable),e.atmosphere.quality||l.warn("You not set atmosphere quality. Usign default: "+u.global.options.atmosphere.quality),e.search.enable||l.warn("You not set Search. Usign default: "+u.global.options.search.enable),e.search.position||l.warn("You not set Search position. Usign default: "+u.global.options.search.position),e.search.index||l.warn("You not set Search index. Usign default: "+u.global.options.search.index),e.cors||l.warn("You not set any URL to enable CORS requests"),e.proxy||l.warn("You not set any URL to proxy your requests"),u.global.options={element:e.element,scale:e.scale||u.global.options.scale,center:{longitude:e.longitude||u.global.options.longitude,latitude:e.latitude||u.global.options.latitude},basemap:e.basemap||u.global.options.basemap,stars:e.stars||u.global.options.stars,atmosphere:{enable:e.atmosphere.enable||u.global.options.atmosphere.enable,quality:e.atmosphere.quality||u.global.options.atmosphere.quality},search:{enable:e.search.enable||u.global.options.search.enable,position:e.search.position||u.global.options.search.position,index:e.search.index||u.global.options.search.index},cors:e.cors||"",proxy:e.proxy||""},u.global.loaded=!0):l.fatal("You need pass some informations to describe your map")},r.start=function(e){void 0!==e&&u.global.loaded?n.isLoaded()?(l.log("Waiting ESRI server..."),c()):n.bootstrap(function(e){e&&l.error(e),l.log("Waiting ESRI server..."),c()},{url:e}):l.fatal("Fatal error! You must provider an CDN.")},function(){u.global.loaded?n.dojoRequire(["esri/config","esri/Map","esri/Graphic","esri/Camera","esri/views/SceneView","esri/layers/FeatureLayer","esri/layers/TileLayer","esri/layers/GraphicsLayer","esri/core/watchUtils","esri/core/Collection","esri/renderers/UniqueValueRenderer","esri/renderers/ClassBreaksRenderer","esri/renderers/SimpleRenderer","esri/renderers/support/jsonUtils","esri/symbols/ExtrudeSymbol3DLayer","esri/symbols/PolygonSymbol3D","esri/symbols/SimpleMarkerSymbol","esri/symbols/PictureMarkerSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/SimpleFillSymbol","esri/symbols/PointSymbol3D","esri/symbols/ObjectSymbol3DLayer","esri/geometry/Geometry","esri/geometry/Point","esri/geometry/Extent","esri/widgets/Search","dojo/on","dojo/domReady!"],function(e,r,o,t,a,n,i,c,p,y,m,f,b,g,v,w,h,S,x,L,U,Y,E,P,j,q,M){u.global.options.cors.forEach(function(r){e.request.corsEnabledServers.push(r)}),e.request.proxyUrl=u.global.options.proxy||"",u.constructors.Map=r,u.constructors.SceneView=a,u.constructors.layer.FeatureLayer=n,u.constructors.layer.TileLayer=i,u.constructors.layer.GraphicsLayer=c,u.constructors.utils.watchUtils=p,u.constructors.utils.Search=q,u.constructors.utils.jsonUtils=g,u.constructors.utils.Extent=j,u.constructors.utils.Camera=t,u.constructors.renderer.UniqueValueRenderer=m,u.constructors.renderer.ClassBreaksRenderer=f,u.constructors.renderer.ExtrudeSymbol3DLayer=v,u.constructors.renderer.PolygonSymbol3D=w,u.constructors.renderer.SimpleRenderer=b,u.constructors.renderer.SimpleMarkerSymbol=h,u.constructors.renderer.PictureMarkerSymbol=S,u.constructors.renderer.SimpleLineSymbol=x,u.constructors.renderer.SimpleFillSymbol=L,u.constructors.renderer.Graphic=o,u.constructors.renderer.Point=P,u.constructors.renderer.PointSymbol3D=U,u.constructors.renderer.ObjectSymbol3DLayer=Y,u.constructors.Map&&u.constructors.SceneView?(l.log("All constructorss created!"),u.global.map=d(u.constructors.Map,u.global.options.basemap),u.global.view=(0,s.createView)(u.global.map,u.constructors.SceneView,u.global.options)):l.error("Error during creating the necessary constructors... Try again.")}):l.fatal("Fatal error! You need set some map options.")}),d=function(e,r){return l.log("Creating map..."),new e({basemap:r,ground:"world-elevation",layers:[]})}},function(e,r,o){"use strict";function t(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r.default=e,r}Object.defineProperty(r,"__esModule",{value:!0}),r.layers=r.view=r.map=void 0;var a=o(4),n=t(a),i=o(2),l=t(i),s=o(3),u=t(s);r.map=n,r.view=l,r.layers=u},function(e,r,o){"use strict";function t(){return document.querySelector("script[data-esri-loader]")}function a(){return void 0!==window.require&&t()}function n(e,r){if(void 0===r&&(r={}),r.url||(r.url="https://js.arcgis.com/4.3/"),t())return void e(new Error("The ArcGIS API for JavaScript is already loaded."));var o=document.createElement("script");o.type="text/javascript",o.src=r.url,o.dataset.esriLoader="loading",o.onload=function(){o.dataset.esriLoader="loaded";var r=window.require;e&&e(null,r)},document.body.appendChild(o)}function i(e,r){if(a())window.require(e,r);else{var o=t();if(!o)throw new Error("The ArcGIS API for JavaScript has not been loaded. You must first call esriLoader.bootstrap()");var n=function(){window.require(e,r),o.removeEventListener("load",n,!1)};o.addEventListener("load",n)}}Object.defineProperty(r,"__esModule",{value:!0}),r.isLoaded=a,r.bootstrap=n,r.dojoRequire=i,r.default={isLoaded:a,bootstrap:n,dojoRequire:i}}]);
//# sourceMappingURL=arceasy.min.js.map